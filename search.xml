<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>可视化表达式计算器</title>
      <link href="/2022/12/18/%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%AE%A1%E7%AE%97%E5%99%A8/"/>
      <url>/2022/12/18/%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%AE%A1%E7%AE%97%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<blockquote><p>功能：基本的加减乘除运算，正弦余弦运算，取模运算，指数运算，表达式优先级处理</p></blockquote><hr><h2 id="效果展示"><a href="#效果展示" class="headerlink" title="效果展示"></a>效果展示</h2><p><img src="https://s1.ax1x.com/2022/12/18/zqEcCT.png" alt=""></p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><h3 id="Calculate"><a href="#Calculate" class="headerlink" title="Calculate"></a>Calculate</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.calculator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Calculate</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">evaluationExpression</span><span class="params">(String expression)</span> &#123;</span><br><span class="line">        <span class="comment">//符号栈</span></span><br><span class="line">        LinkedList&lt;Character&gt; stackOptr = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//数字栈</span></span><br><span class="line">        LinkedList&lt;Double&gt; stackOpnd = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//标记Optr栈底</span></span><br><span class="line">        stackOptr.addFirst(<span class="string">&#x27;@&#x27;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; expression.length()) &#123;</span><br><span class="line">            <span class="comment">//数字</span></span><br><span class="line">            <span class="keyword">if</span> ((expression.charAt(i) &gt;= <span class="string">&#x27;0&#x27;</span> &amp;&amp; expression.charAt(i) &lt;= <span class="string">&#x27;9&#x27;</span>) || expression.charAt(i) == <span class="string">&#x27;-&#x27;</span>) &#123;</span><br><span class="line">                <span class="type">boolean</span> <span class="variable">belowZero</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">                <span class="comment">//负数</span></span><br><span class="line">                <span class="keyword">if</span> (expression.charAt(i) == <span class="string">&#x27;-&#x27;</span>) &#123;</span><br><span class="line">                    belowZero = <span class="literal">true</span>;</span><br><span class="line">                    <span class="comment">//在负数前面加上&#x27;+&#x27;</span></span><br><span class="line">                    <span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; expression.charAt(i-<span class="number">1</span>) &gt;= <span class="string">&#x27;0&#x27;</span> &amp;&amp; expression.charAt(i-<span class="number">1</span>) &lt;= <span class="string">&#x27;9&#x27;</span>)</span><br><span class="line">                        stackOptr.addFirst(<span class="string">&#x27;+&#x27;</span>);</span><br><span class="line">                    i++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//完整的数</span></span><br><span class="line">                <span class="type">double</span> number;</span><br><span class="line">                <span class="comment">//整数部分和小数部分</span></span><br><span class="line">                <span class="type">double</span> <span class="variable">integerPart</span> <span class="operator">=</span> <span class="number">0</span>, decimalPart = <span class="number">0</span>;</span><br><span class="line">                <span class="comment">//小数点标记 区分整数和小数部分</span></span><br><span class="line">                <span class="type">boolean</span> <span class="variable">beforeDecimalPoint</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">                <span class="type">int</span> <span class="variable">decimalRank</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">while</span> ((expression.charAt(i) &gt;= <span class="string">&#x27;0&#x27;</span> &amp;&amp; expression.charAt(i) &lt;= <span class="string">&#x27;9&#x27;</span>) || expression.charAt(i) == <span class="string">&#x27;.&#x27;</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (<span class="string">&#x27;.&#x27;</span> == expression.charAt(i)) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (beforeDecimalPoint) &#123;</span><br><span class="line">                            beforeDecimalPoint = <span class="literal">false</span>;</span><br><span class="line">                            i++;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (beforeDecimalPoint) &#123;</span><br><span class="line">                        integerPart = integerPart * <span class="number">10</span> + (expression.charAt(i) - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        decimalPart = decimalPart + (<span class="type">double</span>) (expression.charAt(i) - <span class="string">&#x27;0&#x27;</span>) / decimalRank;</span><br><span class="line">                        decimalRank *= <span class="number">10</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    i++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//整数部分 + 小数部分</span></span><br><span class="line">                number = integerPart + decimalPart;</span><br><span class="line">                <span class="keyword">if</span> (belowZero)</span><br><span class="line">                    number = -number;</span><br><span class="line">                <span class="comment">//进数字栈</span></span><br><span class="line">                stackOpnd.addFirst(number);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//符号</span></span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">//处理符号栈</span></span><br><span class="line">                <span class="keyword">switch</span> (Priority(stackOptr.getFirst(), expression.charAt(i))) &#123;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">&#x27;&lt;&#x27;</span>:</span><br><span class="line">                        stackOptr.addFirst(expression.charAt(i));</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">&#x27;=&#x27;</span>:</span><br><span class="line">                        stackOptr.removeFirst();</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">&#x27;&gt;&#x27;</span>:</span><br><span class="line">                        <span class="comment">//cos</span></span><br><span class="line">                        <span class="keyword">if</span> (<span class="string">&#x27;c&#x27;</span> == stackOptr.getFirst()) &#123;</span><br><span class="line">                            <span class="type">double</span> <span class="variable">a</span> <span class="operator">=</span> stackOpnd.removeFirst();</span><br><span class="line">                            stackOpnd.addFirst(Math.cos(a));</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="comment">//sin</span></span><br><span class="line">                        <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">&#x27;s&#x27;</span> == stackOptr.getFirst()) &#123;</span><br><span class="line">                            <span class="type">double</span> <span class="variable">a</span> <span class="operator">=</span> stackOpnd.removeFirst();</span><br><span class="line">                            stackOpnd.addFirst(Math.sin(a));</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="comment">//a _ b</span></span><br><span class="line">                        <span class="keyword">else</span> &#123;</span><br><span class="line">                            <span class="type">double</span> <span class="variable">a</span> <span class="operator">=</span> stackOpnd.removeFirst();</span><br><span class="line">                            <span class="type">double</span> <span class="variable">b</span> <span class="operator">=</span> stackOpnd.removeFirst();</span><br><span class="line">                            stackOpnd.addFirst(operate(a, stackOptr.getFirst(), b));</span><br><span class="line">                        &#125;</span><br><span class="line">                        i--;</span><br><span class="line">                        stackOptr.removeFirst();</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (<span class="string">&#x27;s&#x27;</span> == expression.charAt(i) || <span class="string">&#x27;c&#x27;</span> == expression.charAt(i) || <span class="string">&#x27;m&#x27;</span> == expression.charAt(i)) &#123;</span><br><span class="line">                    i += <span class="number">3</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    i++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> String.valueOf(stackOpnd.getFirst());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">char</span> <span class="title function_">Priority</span><span class="params">(<span class="type">char</span> ch1, <span class="type">char</span> ch2)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">0</span>, b = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">switch</span> (ch1) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;+&#x27;</span>:</span><br><span class="line">                a = <span class="number">5</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;*&#x27;</span>:</span><br><span class="line">                a = <span class="number">15</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;/&#x27;</span>:</span><br><span class="line">                a = <span class="number">15</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;m&#x27;</span>:<span class="comment">//mod</span></span><br><span class="line">                a = <span class="number">15</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;(&#x27;</span>:</span><br><span class="line">                a = <span class="number">2</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;)&#x27;</span>:</span><br><span class="line">                a = <span class="number">25</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;^&#x27;</span>:</span><br><span class="line">                a = <span class="number">20</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;s&#x27;</span>:<span class="comment">//sin</span></span><br><span class="line">                a = <span class="number">20</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;c&#x27;</span>:<span class="comment">//cos</span></span><br><span class="line">                a = <span class="number">20</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;@&#x27;</span>:</span><br><span class="line">                a = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line"></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">switch</span> (ch2) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;+&#x27;</span>:</span><br><span class="line">                b = <span class="number">3</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;*&#x27;</span>:</span><br><span class="line">                b = <span class="number">10</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;/&#x27;</span>:</span><br><span class="line">                b = <span class="number">10</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;m&#x27;</span>:<span class="comment">//mod</span></span><br><span class="line">                b = <span class="number">10</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;(&#x27;</span>:</span><br><span class="line">                b = <span class="number">22</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;)&#x27;</span>:</span><br><span class="line">                b = <span class="number">2</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;^&#x27;</span>:</span><br><span class="line">                b = <span class="number">19</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;s&#x27;</span>:</span><br><span class="line">                b = <span class="number">19</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;c&#x27;</span>:</span><br><span class="line">                b = <span class="number">19</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;@&#x27;</span>:</span><br><span class="line">                b = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line"></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (a &gt; b)</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;&gt;&#x27;</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (a == b)</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;=&#x27;</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;&lt;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">double</span> <span class="title function_">operate</span><span class="params">(<span class="type">double</span> a, <span class="type">char</span> optr, <span class="type">double</span> b)</span> &#123;</span><br><span class="line">        <span class="comment">//b是先进栈的数</span></span><br><span class="line">        <span class="type">BigDecimal</span> <span class="variable">aa</span> <span class="operator">=</span> BigDecimal.valueOf(a);</span><br><span class="line">        <span class="type">BigDecimal</span> <span class="variable">bb</span> <span class="operator">=</span> BigDecimal.valueOf(b);</span><br><span class="line">        <span class="type">BigDecimal</span> <span class="variable">answer</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">switch</span> (optr) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;+&#x27;</span>:</span><br><span class="line">                answer = bb.add(aa);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;*&#x27;</span>:</span><br><span class="line">                answer = bb.multiply(aa);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;/&#x27;</span>:</span><br><span class="line">                answer = bb.divide(aa);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;m&#x27;</span>:</span><br><span class="line">                <span class="type">double</span> <span class="variable">ans1</span> <span class="operator">=</span> b % a;</span><br><span class="line">                answer = BigDecimal.valueOf(ans1);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;^&#x27;</span>:</span><br><span class="line">                <span class="type">double</span> <span class="variable">ans2</span> <span class="operator">=</span> Math.pow(b, a);</span><br><span class="line">                answer = BigDecimal.valueOf(ans2);</span><br><span class="line">                <span class="comment">//answer = bb.pow(aa.intValue());</span></span><br><span class="line">                <span class="comment">//BigDecimal的pow方法只能计算整数幂</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line"></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(answer);</span><br><span class="line">        <span class="keyword">return</span> answer.doubleValue();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="UI"><a href="#UI" class="headerlink" title="UI"></a>UI</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.calculator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionEvent;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionListener;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Display</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String[] keys = &#123;</span><br><span class="line">            <span class="string">&quot;AC&quot;</span>, <span class="string">&quot;(&quot;</span>, <span class="string">&quot;)&quot;</span>, <span class="string">&quot;Delete&quot;</span>,</span><br><span class="line">            <span class="string">&quot;sin&quot;</span>, <span class="string">&quot;cos&quot;</span>, <span class="string">&quot;mod&quot;</span>, <span class="string">&quot;+&quot;</span>,</span><br><span class="line">            <span class="string">&quot;7&quot;</span>, <span class="string">&quot;8&quot;</span>, <span class="string">&quot;9&quot;</span>, <span class="string">&quot;-&quot;</span>,</span><br><span class="line">            <span class="string">&quot;4&quot;</span>, <span class="string">&quot;5&quot;</span>, <span class="string">&quot;6&quot;</span>, <span class="string">&quot;*&quot;</span>,</span><br><span class="line">            <span class="string">&quot;1&quot;</span>, <span class="string">&quot;2&quot;</span>, <span class="string">&quot;3&quot;</span>, <span class="string">&quot;/&quot;</span>,</span><br><span class="line">            <span class="string">&quot;.&quot;</span>, <span class="string">&quot;0&quot;</span>, <span class="string">&quot;^&quot;</span>, <span class="string">&quot;=&quot;</span>&#125;;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">JTextField</span> <span class="variable">result</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JTextField</span>();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> JButton[] button = <span class="keyword">new</span> <span class="title class_">JButton</span>[keys.length];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Display</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//初始化Result</span></span><br><span class="line">        result.setText(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">        result.setBackground(<span class="keyword">new</span> <span class="title class_">Color</span>(<span class="number">240</span>,<span class="number">243</span>,<span class="number">249</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setResult</span><span class="params">(String str)</span> &#123;</span><br><span class="line">        <span class="comment">//结果</span></span><br><span class="line">        result.setText(str);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> JTextField <span class="title function_">getResult</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">/* get numbers from text box */</span></span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> JButton[] getButton() &#123;</span><br><span class="line">        <span class="keyword">return</span> button;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setButton</span><span class="params">(JButton button, <span class="type">int</span> i)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.button[i] = button;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getKey</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> keys[i];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BuildUI</span> <span class="keyword">extends</span> <span class="title class_">JFrame</span> <span class="keyword">implements</span> <span class="title class_">ActionListener</span> &#123;</span><br><span class="line">    <span class="type">Display</span> <span class="variable">dis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Display</span>();</span><br><span class="line">    String expression;</span><br><span class="line">    <span class="keyword">final</span> <span class="type">Font</span> <span class="variable">resultFont</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Font</span>(<span class="string">&quot;Helvetica&quot;</span>, Font.PLAIN, <span class="number">60</span>);</span><br><span class="line">    <span class="keyword">final</span> <span class="type">Font</span> <span class="variable">buttonFont</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Font</span>(<span class="string">&quot;Helvetica&quot;</span>, Font.PLAIN, <span class="number">30</span>);</span><br><span class="line">    <span class="comment">//ResultBuffer rb = new ResultBuffer();</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">BuildUI</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.setTitle(<span class="string">&quot;表达式计算器&quot;</span>);</span><br><span class="line">        <span class="built_in">this</span>.buildLayout();</span><br><span class="line">        <span class="built_in">this</span>.setSize(<span class="number">600</span>,<span class="number">800</span>);</span><br><span class="line">        <span class="built_in">this</span>.setVisible(<span class="literal">true</span>);</span><br><span class="line">        <span class="built_in">this</span>.setDefaultCloseOperation(<span class="number">3</span>);</span><br><span class="line">        <span class="built_in">this</span>.setLocationRelativeTo(<span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buildLayout</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">JPanel</span> <span class="variable">calFrame</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JPanel</span>();</span><br><span class="line">        calFrame.setBackground(Color.black);</span><br><span class="line"></span><br><span class="line">        calFrame.setLayout(<span class="keyword">new</span> <span class="title class_">GridLayout</span>(<span class="number">7</span>, <span class="number">1</span>));</span><br><span class="line">        <span class="comment">//添加结果文本框</span></span><br><span class="line">        calFrame.add(dis.getResult());</span><br><span class="line">        dis.getResult().setFont(resultFont);</span><br><span class="line"></span><br><span class="line">        Container[] con = <span class="keyword">new</span> <span class="title class_">Container</span>[<span class="number">6</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; con.length; i++) &#123;</span><br><span class="line">            con[i] = <span class="keyword">new</span> <span class="title class_">Container</span>();</span><br><span class="line">            con[i].setLayout(<span class="keyword">new</span> <span class="title class_">GridLayout</span>(<span class="number">1</span>, <span class="number">4</span>));</span><br><span class="line">            <span class="comment">//添加六行单元格1*4</span></span><br><span class="line">            calFrame.add(con[i]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; dis.getButton().length; i++) &#123;</span><br><span class="line">            <span class="type">JButton</span> <span class="variable">newButton</span> <span class="operator">=</span> setBtnForm(i);</span><br><span class="line"><span class="comment">//                        newButton.setForeground(Color.DARK_GRAY);</span></span><br><span class="line"></span><br><span class="line">            dis.setButton(newButton, i);</span><br><span class="line">            con[i / <span class="number">4</span>].add(newButton);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        getContentPane().add(calFrame);</span><br><span class="line">        expression = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> JButton <span class="title function_">setBtnForm</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">        <span class="comment">/* set font, color, shape of the buttom */</span></span><br><span class="line">        <span class="type">JButton</span> <span class="variable">newButton</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JButton</span>(dis.getKey(i));</span><br><span class="line">        newButton.setBorderPainted(<span class="literal">true</span>);</span><br><span class="line">        <span class="keyword">if</span> (i &lt;= <span class="number">7</span>) &#123;</span><br><span class="line">            newButton.setForeground(Color.black);</span><br><span class="line">            newButton.setBackground(<span class="keyword">new</span> <span class="title class_">Color</span>(<span class="number">247</span>, <span class="number">249</span>, <span class="number">252</span>));</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (i == <span class="number">23</span>) &#123;</span><br><span class="line">            newButton.setForeground(Color.black);</span><br><span class="line">            newButton.setBackground(<span class="keyword">new</span> <span class="title class_">Color</span>(<span class="number">0</span>, <span class="number">103</span>, <span class="number">192</span>));</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> ((i + <span class="number">1</span>) % <span class="number">4</span> == <span class="number">0</span> || i == <span class="number">22</span> || i == <span class="number">20</span>) &#123;</span><br><span class="line">            newButton.setForeground(Color.black);</span><br><span class="line">            newButton.setBackground(<span class="keyword">new</span> <span class="title class_">Color</span>(<span class="number">247</span>, <span class="number">249</span>, <span class="number">252</span>));</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            newButton.setForeground(Color.black);</span><br><span class="line">            newButton.setBackground(Color.white);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        newButton.addActionListener(<span class="built_in">this</span>);</span><br><span class="line">        newButton.setFont(buttonFont);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> newButton;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">action</span> <span class="operator">=</span> e.getActionCommand();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (dis.getKey(<span class="number">0</span>).equals(action)) &#123;</span><br><span class="line">            <span class="comment">/* press AC */</span></span><br><span class="line">            pressAC();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (dis.getKey(<span class="number">3</span>).equals(action)) &#123;</span><br><span class="line">            <span class="comment">/* press Delete */</span></span><br><span class="line">            pressDelete();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (dis.getKey(<span class="number">23</span>).equals(action)) &#123;</span><br><span class="line">            <span class="comment">/* press = */</span></span><br><span class="line">            pressCalculate();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">/* press 1, 2, 3, +, - ...*/</span></span><br><span class="line">            pressExpression(action);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pressAC</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">/* clear the text box */</span></span><br><span class="line">        expression = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        dis.setResult(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pressDelete</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">/* delete the last character in the text box */</span></span><br><span class="line">        expression = expression.substring(<span class="number">0</span>, expression.length() - <span class="number">1</span>);</span><br><span class="line">        dis.setResult(expression);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pressCalculate</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">/* compute */</span></span><br><span class="line">        <span class="type">Calculate</span> <span class="variable">cal</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Calculate</span>();</span><br><span class="line">        <span class="type">String</span> <span class="variable">re</span> <span class="operator">=</span> cal.evaluationExpression(expression + <span class="string">&#x27;@&#x27;</span>);</span><br><span class="line">        dis.setResult(re);</span><br><span class="line">        expression = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pressExpression</span><span class="params">(String action)</span> &#123;</span><br><span class="line">        <span class="comment">/* input... */</span></span><br><span class="line">        expression += action;</span><br><span class="line">        dis.setResult(expression);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="Main"><a href="#Main" class="headerlink" title="Main"></a>Main</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.calculator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.net.MalformedURLException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> MalformedURLException &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">BuildUI</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javaSwing </tag>
            
            <tag> 栈 </tag>
            
            <tag> 表达式求值 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaWebCrawler</title>
      <link href="/2022/12/13/JavaWebCrawler/"/>
      <url>/2022/12/13/JavaWebCrawler/</url>
      
        <content type="html"><![CDATA[<h2 id="实验名称：统计英文网页中各单词出现的次数"><a href="#实验名称：统计英文网页中各单词出现的次数" class="headerlink" title="实验名称：统计英文网页中各单词出现的次数"></a>实验名称：统计英文网页中各单词出现的次数</h2><h3 id="实验内容："><a href="#实验内容：" class="headerlink" title="实验内容："></a>实验内容：</h3><p>对于某个给定的英文网页，编写一个处理程序统计该网页中每个单词出现的次数</p><h3 id="要求："><a href="#要求：" class="headerlink" title="要求："></a>要求：</h3><ul><li>输入一个英文网页地址，下载该网页的内容；</li><li>提取该网页中的文本内容；</li><li>统计文本内容中各单词出现的频次，并按降序排列。</li></ul><h3 id="思路："><a href="#思路：" class="headerlink" title="思路："></a>思路：</h3><ul><li>下载该网页的HTML源码并保存至index.html</li><li>利用Jsoup解析HTML，提取出文本内容，并将文本写入text.txt文件</li><li>读取文本内容至str字符串，通过split方法分割str字符串并得到words字符串数组，利用hashmap容器对字符串数组进行单词频次统计，最后将map中的元素放入list集合中进行降序排序</li></ul><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> webCrawler.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Map.Entry;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.Jsoup;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ReadFromURL</span> &#123;</span><br><span class="line"><span class="comment">//读入html代码并保存至index.html文件</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">crawler</span><span class="params">(String URLSting)</span> &#123;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">java.net.<span class="type">URL</span> <span class="variable">url</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">java</span>.net.URL(URLSting);</span><br><span class="line"><span class="type">Scanner</span> <span class="variable">input</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(url.openStream());</span><br><span class="line"><span class="type">BufferedWriter</span> <span class="variable">writer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(<span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;index.html&quot;</span>));</span><br><span class="line"><span class="keyword">while</span> (input.hasNext()) &#123;</span><br><span class="line"><span class="type">String</span> <span class="variable">line</span> <span class="operator">=</span> input.nextLine();</span><br><span class="line">writer.write(line);</span><br><span class="line">writer.newLine();</span><br><span class="line">&#125;</span><br><span class="line">input.close();</span><br><span class="line">writer.close();</span><br><span class="line">System.out.println(<span class="string">&quot;index.html保存成功&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span>(java.net.MalformedURLException e)&#123;</span><br><span class="line">System.err.println(<span class="string">&quot;URL Error: &quot;</span> + e.getMessage());</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">System.err.println(<span class="string">&quot;IO Error：&quot;</span>+ e.getMessage());</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//提取html中的文本内容 并保存至text.txt文件</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">toText</span><span class="params">()</span>&#123;</span><br><span class="line"><span class="type">String</span> <span class="variable">text</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="type">FileWriter</span> <span class="variable">filewriter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;text.txt&quot;</span>);</span><br><span class="line"><span class="type">BufferedWriter</span> <span class="variable">writer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(filewriter);</span><br><span class="line">text = Jsoup.parse(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;index.html&quot;</span>)).text();</span><br><span class="line">writer.write(text);</span><br><span class="line">writer.close();</span><br><span class="line">System.out.println(<span class="string">&quot;text.txt保存成功&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//统计文本内容</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">wordsStatistics</span><span class="params">()</span> &#123;</span><br><span class="line">Map&lt;String,Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;String, Integer&gt;();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="type">BufferedReader</span> <span class="variable">reader</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">&quot;text.txt&quot;</span>));</span><br><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> reader.readLine();</span><br><span class="line">reader.close();</span><br><span class="line"><span class="comment">//分割字符串</span></span><br><span class="line">String[] words = str.split(<span class="string">&quot;\\s+&quot;</span>);</span><br><span class="line">System.out.println(words.length + <span class="string">&quot; words&quot;</span>);</span><br><span class="line"><span class="comment">//统计单词</span></span><br><span class="line"><span class="keyword">for</span> (String s : words) &#123;</span><br><span class="line"><span class="keyword">if</span> (!map.containsKey(s)) &#123;</span><br><span class="line">map.put(s, <span class="number">1</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">map.put(s, map.get(s)+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//将map的entryset放入list集合</span></span><br><span class="line">List&lt;Map.Entry&lt;String,Integer&gt;&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(map.entrySet()); </span><br><span class="line"><span class="comment">//对list进行排序，并通过Comparator传入自定义的排序规则</span></span><br><span class="line">Collections.sort(list,<span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Map.Entry&lt;String, Integer&gt;&gt;() &#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Entry&lt;String, Integer&gt; o1, Entry&lt;String, Integer&gt; o2)</span> &#123;</span><br><span class="line"><span class="keyword">return</span> o2.getValue() - o1.getValue(); <span class="comment">//重写排序规则</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//遍历list</span></span><br><span class="line"><span class="keyword">for</span> (Map.Entry&lt;String,Integer&gt; entry : list) &#123;</span><br><span class="line">System.out.println(entry);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"><span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">System.out.println(<span class="string">&quot;Enter a URL: &quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">URL</span> <span class="operator">=</span> scanner.next();</span><br><span class="line">scanner.close();</span><br><span class="line">crawler(URL);</span><br><span class="line">toText();</span><br><span class="line">wordsStatistics();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Jsoup </tag>
            
            <tag> webCrawler </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2022/12/4蓝桥杯模拟赛</title>
      <link href="/2022/12/04/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%BB%83%E4%B9%A0%E8%B5%9B20221204/"/>
      <url>/2022/12/04/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%BB%83%E4%B9%A0%E8%B5%9B20221204/</url>
      
        <content type="html"><![CDATA[<h3 id="1"><a href="#1" class="headerlink" title="#1"></a>#1</h3><p><strong>问题描述</strong><br>　　请找到一个大于 2022 的最小数，这个数转换成二进制之后，最低的 6 个二进制为全为 0 。<br>　　请将这个数的十进制形式作为答案提交。<br><strong>答案提交</strong><br>　　这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。</p><blockquote><p>答案：2048（用计算器程序员模式）</p></blockquote><h3 id="2"><a href="#2" class="headerlink" title="#2"></a>#2</h3><p><strong>问题描述</strong><br>　　我们计从 1949 年 10 月 1 日至 1949 年 10 月 2 日为经过了 1 天。<br>　　请问从 1949 年 10 月 1 日至 2022 年 1 月 1 日经过了多少天？<br><strong>答案提交</strong><br>　　这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。</p><blockquote><p>26390（用Excel很方便计算）</p></blockquote><h3 id="3"><a href="#3" class="headerlink" title="#3"></a>#3</h3><p><strong>问题描述</strong><br>　　8518 是一个非常特殊的数，如果把这个数看成 16 进制数，它的值为 (8518)16=8<em>16</em>16<em>16+5</em>16<em>16+1</em>16+8=34072，而 34072 正好是 8518 的整数倍。<br>　　9558 也是这样一个数，当看成 16 进制时是 38232。<br>　　其实长度为 1 的数 0 到 9 都满足看成 16 进制后是自己的整数倍（1倍）。<br>　　请问，除开长度为 1 的数，最小的满足这样条件的数是多少？<br><strong>答案提交</strong><br>　　这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">f</span><span class="params">(<span class="type">int</span> num)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> temp;</span><br><span class="line">    <span class="type">int</span> p = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (num)</span><br><span class="line">    &#123;</span><br><span class="line">        temp = num % <span class="number">10</span>;</span><br><span class="line">        num /= <span class="number">10</span>;</span><br><span class="line">        ans += temp * <span class="built_in">pow</span>(<span class="number">16</span>, p);</span><br><span class="line">        p++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">10</span>; ; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> t = <span class="built_in">f</span>(i);</span><br><span class="line">        <span class="keyword">if</span> (t % i == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; i;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>1038</p></blockquote><h3 id="4"><a href="#4" class="headerlink" title="#4"></a>#4</h3><p><strong>问题描述</strong><br>　　小蓝有一个 30 行 60 列的数字矩阵，矩阵中的每个数都是 0 到 9 之间的数字。<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">174094882455171152761423221685761892795431233411387427793198</span><br><span class="line">650286024865090061389344606618496378829135984076361542097372</span><br><span class="line">601657541200146071777733599818266038012509478351201640618984</span><br><span class="line">143988087783837107349651099683484992553337438088068198972282</span><br><span class="line">890781586124258626539246182119762952003918195325258677229419</span><br><span class="line">698255491250839396799769357665825441616335532825361862146291</span><br><span class="line">503649293440596342887581257444442930778730382520372975343211</span><br><span class="line">325351222640703400531067500454956482168314849207060705673849</span><br><span class="line">265774579830223671554026061117300483012903885770893074783710</span><br><span class="line">083450145620356667677191627276513995926532444279237315785832</span><br><span class="line">411595106453089134746365281031552217482363035280722591085079</span><br><span class="line">053410485925413958279617719034175332412908745680774313630190</span><br><span class="line">429314820559328748143552689295945058801322270313370955837837</span><br><span class="line">939182801848609300876356583948397645861551964542532682663945</span><br><span class="line">625356614462682551015176002433628234343684739800880514363921</span><br><span class="line">982340231989891351425389287014819359798014755509282450440511</span><br><span class="line">590838726938103384801541373585690893606978941566666714061214</span><br><span class="line">952341523168827712604946036245881214982452998386986623826275</span><br><span class="line">782780208928205527678781609589000725521486468983551558405472</span><br><span class="line">149903035076783644195574734088152324666290493119955560594634</span><br><span class="line">905391288186024902215444250421277955403412298227858394469856</span><br><span class="line">607272647132163832860126054679347881638761723785858733108109</span><br><span class="line">249157334220127702410373959720286708183036202841837581704881</span><br><span class="line">367895556630088230650972282944827258473951902831431040790814</span><br><span class="line">079538232104075905120989173307660289899942087873076421916033</span><br><span class="line">622143260549608274076012938515668898707915863945382394851328</span><br><span class="line">164677964192631597026176253407553188801750590935427267220117</span><br><span class="line">591817866992665840378311257621611574856498432538327068011953</span><br><span class="line">631534031790352912617015229051836886166704989498756486878095</span><br><span class="line">690013558017746707412183571476823027885971347137127534455141</span><br></pre></td></tr></table></figure><br>　　现在小蓝想从这个矩阵的第一行第一列画一条折线到第 30 行 60 列，线只能沿水平向右走或竖直向下走，只能在有数字的地方拐弯。小蓝想知道，这样一条线经过的数字的和最大是多少。<br><strong>答案提交</strong><br>　　这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//dfs</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> direct[<span class="number">2</span>][<span class="number">2</span>] = &#123; &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125; &#125;;<span class="comment">//向右 向下</span></span><br><span class="line"><span class="type">int</span> a[<span class="number">35</span>][<span class="number">65</span>];</span><br><span class="line"><span class="type">int</span> map[<span class="number">35</span>][<span class="number">65</span>];</span><br><span class="line"><span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">string s;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> row, <span class="type">int</span> col, <span class="type">int</span> tempAns)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (row == <span class="number">29</span> &amp;&amp; col == <span class="number">59</span>)</span><br><span class="line">&#123;</span><br><span class="line">ans = <span class="built_in">max</span>(ans, tempAns);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> new_row = row + direct[i][<span class="number">0</span>];</span><br><span class="line"><span class="type">int</span> new_col = col + direct[i][<span class="number">1</span>];</span><br><span class="line"><span class="keyword">if</span> (new_row &gt;= <span class="number">0</span> &amp;&amp; new_row &lt; <span class="number">30</span> &amp;&amp; new_col &gt;= <span class="number">0</span> &amp;&amp; new_col &lt; <span class="number">60</span>)</span><br><span class="line">&#123;</span><br><span class="line">tempAns += a[new_row][new_col];</span><br><span class="line"><span class="built_in">dfs</span>(new_row, new_col, tempAns);</span><br><span class="line"><span class="comment">//回溯</span></span><br><span class="line">tempAns -= a[new_row][new_col];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">30</span>; i++) &#123;</span><br><span class="line"><span class="type">int</span> p = <span class="number">0</span>;</span><br><span class="line">cin &gt;&gt; s;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">60</span>; j++)</span><br><span class="line">a[i][j] = s[p++] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">dfs</span>(<span class="number">0</span>, <span class="number">0</span>, a[<span class="number">0</span>][<span class="number">0</span>]);</span><br><span class="line">cout &lt;&lt; ans;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>没跑出来…</p></blockquote><h3 id="5"><a href="#5" class="headerlink" title="#5"></a>#5</h3><p><strong>问题描述</strong><br>　　将 2022 拆分成不同的质数的和，请问最多拆分成几个？<br><strong>答案提交</strong><br>　　这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//思路：从小到大累加质数直到超过2022 同时打印累加的质数</span></span><br><span class="line"><span class="comment">//算出累加结果与2022的差，减去部分质数去抵消差</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; a;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">initA</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    a.<span class="built_in">push_back</span>(<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> num = <span class="number">3</span>; num &lt;= <span class="number">2022</span>; num += <span class="number">2</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt;= <span class="built_in">sqrt</span>(num); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (num % i == <span class="number">0</span>) &#123;</span><br><span class="line">                flag = <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (flag)</span><br><span class="line">            a.<span class="built_in">push_back</span>(num);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">initA</span>();</span><br><span class="line">    <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; sum &lt;= <span class="number">2022</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; a[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        sum += a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; sum &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;sum - 2022 = &quot;</span> &lt;&lt; sum - <span class="number">2022</span> &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; i;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">运行结果：</span><br><span class="line">2 3 5 7 11 13 17 19 23 29 31 37 41 43 47 53 59 61 67 71 73 79 83 89 97 101 103 107 109 113 127 131 137 139</span><br><span class="line">2127</span><br><span class="line">sum - 2022 = 105</span><br><span class="line">34</span><br></pre></td></tr></table></figure></p><blockquote><p>显然105仅由一个质数无法组成，而105=2+103 刚好能通过两个质数抵消sum与2022的差 故答案为34-2=<strong>32</strong></p></blockquote><h3 id="6"><a href="#6" class="headerlink" title="#6"></a>#6</h3><p><strong>问题描述</strong><br>　　小蓝正在拷贝一份文件，他现在已经拷贝了 t 秒时间，已经拷贝了 c 字节，文件总共有 s 字节，如果拷贝是匀速进行的，请问小蓝大概还需要拷贝多少秒？<br>输入格式<br>　　输入一行包含三个整数 t, c, s，相邻两个整数之间用一个空格分隔。<br>输出格式<br>　　输出一个整数，表示答案。数据保证答案正好是整数。<br>样例输入<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3 10 20</span><br></pre></td></tr></table></figure><br>样例输出<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3</span><br></pre></td></tr></table></figure><br>样例输入<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">30 14 21</span><br></pre></td></tr></table></figure><br>样例输出<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">15</span><br></pre></td></tr></table></figure><br>评测用例规模与约定<br>　　对于 50% 的评测用例，1 &lt;= t, c, s &lt;= 10000。<br>　　对于所有评测用例，1 &lt;= t, c, s &lt;= 1000000000</p><blockquote><p>略</p></blockquote><h3 id="7"><a href="#7" class="headerlink" title="#7"></a>#7</h3><p><strong>问题描述</strong><br>　　小蓝有 n 个单词，但是单词中有一些是重复的，请帮小蓝去除重复的单词。<br>输入格式<br>　　输入第一行包含一个正整数 n ，表示小蓝的单词数量。<br>　　接下来 n 行，每行包含一个由小写字母组成的单词。<br>输出格式<br>　　请输出去除重复后的那些单词。如果一个单词出现了多遍，请保留第一次出现的单词，去除之后出现的单词，按输入的顺序输出。<br>样例输入<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">5</span><br><span class="line">lanqiao</span><br><span class="line">hi</span><br><span class="line">hello</span><br><span class="line">hello</span><br><span class="line">lanqiao</span><br></pre></td></tr></table></figure><br>样例输出<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">lanqiao</span><br><span class="line">hi</span><br><span class="line">hello</span><br></pre></td></tr></table></figure><br>评测用例规模与约定<br>　　对于所有评测用例，1 &lt;= n &lt;= 100，每个单词的长度不超过 100。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">vector&lt;string&gt; a;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">while</span> (n--)</span><br><span class="line">    &#123;</span><br><span class="line">        string s;</span><br><span class="line">        <span class="type">bool</span> flag = <span class="literal">true</span>;<span class="comment">//未重复</span></span><br><span class="line">        cin &gt;&gt; s;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> temp : a)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (temp == s)&#123;</span><br><span class="line">                flag = <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (flag)</span><br><span class="line">        &#123;</span><br><span class="line">            a.<span class="built_in">push_back</span>(s);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> t : a)</span><br><span class="line">        cout &lt;&lt; t &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="8"><a href="#8" class="headerlink" title="#8"></a>#8</h3><p><strong>问题描述</strong><br>　　一个字符串如果从左向右读和从右向左读相同，则称为一个回文串，例如 lanqiaoaiqnal 是一个回文串。<br>　　小蓝有一个字符串，请将这个字符串右边加上一些字符，使其成为一个回文串。<br>　　如果有多种方案，请输出最短的回文串。<br>输入格式<br>　　输入一行包含一个字符串，由小写英文字母组成。<br>输出格式<br>　　输出一行包含答案。<br>样例输入<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lanqiao</span><br></pre></td></tr></table></figure><br>样例输出<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lanqiaoaiqnal</span><br></pre></td></tr></table></figure><br>样例输入<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">banana</span><br></pre></td></tr></table></figure><br>样例输出<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bananab</span><br></pre></td></tr></table></figure><br>样例输入<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">noon</span><br></pre></td></tr></table></figure><br>样例输出<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">noon</span><br></pre></td></tr></table></figure><br>评测用例规模与约定<br>　　对于所有评测用例，1 &lt;= 字符串长度 &lt;= 100。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(string s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; s.<span class="built_in">size</span>()/<span class="number">2</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (s[i] != s[s.<span class="built_in">size</span>()<span class="number">-1</span>-i])</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string s;</span><br><span class="line">    cin &gt;&gt; s;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">check</span>(s))</span><br><span class="line">        cout &lt;&lt; s;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="comment">//截止字符</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; s.<span class="built_in">size</span>(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            string temps = s;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = i; j &gt;= <span class="number">0</span>; j--)</span><br><span class="line">                temps.<span class="built_in">push_back</span>(s[j]);</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">check</span>(temps))</span><br><span class="line">            &#123;</span><br><span class="line">                cout &lt;&lt; temps;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="8-1"><a href="#8-1" class="headerlink" title="#8"></a>#8</h3><p><strong>问题描述</strong><br>　　给定一个字母矩阵。一个 X 图形由中心点和由中心点向四个45度斜线方向引出的直线段组成，四条线段的长度相同，而且四条线段上的字母和中心点的字母相同。<br>　　一个 X图形可以使用三个整数 r, c, L 来描述，其中 r, c 表示中心点位于第 r 行第 c 列，正整数 L 表示引出的直线段的长度。 对于 1 到 L 之间的每个整数 i，X图形满足：第 r-i 行第 c-i 列与第 r 行第 c 列相同，第 r-i 行第 c+i 列与第 r 行第 c 列相同，第 r+i 行第 c-i 列与第 r 行第 c 列相同，第 r+i 行第 c+i 列与第 r 行第 c 列相同。<br>　　例如，对于下面的字母矩阵中，所有的字母 L 组成一个 X图形，其中中间的 5 个 L 也组成一个 X图形。所有字母 Q 组成了一个 X图形。<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">LAAALA</span><br><span class="line">ALQLQA</span><br><span class="line">AALQAA</span><br><span class="line">ALQLQA</span><br><span class="line">LAAALA</span><br></pre></td></tr></table></figure><br>　　给定一个字母矩阵，请求其中有多少个 X图形。<br>输入格式<br>　　输入第一行包含两个整数 n, m，分别表示字母矩阵的行数和列数。<br>　　接下来 n 行，每行 m 个大写字母，为给定的矩阵。<br>输出格式<br>　　输出一行，包含一个整数，表示答案。<br>样例输入<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">5 6</span><br><span class="line">LAAALA</span><br><span class="line">ALQLQA</span><br><span class="line">AALQAA</span><br><span class="line">ALQLQA</span><br><span class="line">LAAALA</span><br></pre></td></tr></table></figure></p><p>样例输出<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3</span><br></pre></td></tr></table></figure></p><p>评测用例规模与约定<br>　　对于 50% 的评测用例，1 &lt;= n, m &lt;= 10。<br>　　对于所有评测用例，1 &lt;= n, m &lt;= 100。</p><h3 id="10"><a href="#10" class="headerlink" title="#10"></a>#10</h3><p><strong>问题描述</strong><br>　　小蓝有一个序列 a[1], a[2], …, a[n]，每次可以交换相邻的两个元素，代价为两个元素中较大的那个。<br>　　请问，要通过交换将序列变为从小到大递增的序列，总代价最少为多少？<br>输入格式<br>　　输入一行包含一个整数 n ，表示序列长度。<br>　　第二行包含 n 个整数，表示给定的序列。<br>输出格式<br>　　输出一行包含一个整数，表示最少代价的值。<br>样例输入<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">1 5 2 1</span><br></pre></td></tr></table></figure><br>样例输出<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">12</span><br></pre></td></tr></table></figure><br>评测用例规模与约定<br>　　对于 30% 的评测用例，1 &lt;= n &lt;= 1000, 1 &lt;= a[i] &lt;= 1000。<br>　　对于 60% 的评测用例，1 &lt;= n &lt;= 50000, 1 &lt;= a[i] &lt;= 50000。<br>　　对于所有评测用例，1 &lt;= n &lt;= 1000000, 1 &lt;= a[i] &lt;= 1000000。</p>]]></content>
      
      
      <categories>
          
          <category> 算法练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 进制转换 </tag>
            
            <tag> dfs </tag>
            
            <tag> 字符串 </tag>
            
            <tag> 贪心 </tag>
            
            <tag> 逆序对 </tag>
            
            <tag> 树状数组 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>221第十四周SQL练习题</title>
      <link href="/2022/12/02/221%E7%AC%AC%E5%8D%81%E5%9B%9B%E5%91%A8%E7%BB%83%E4%B9%A0%E9%A2%98/"/>
      <url>/2022/12/02/221%E7%AC%AC%E5%8D%81%E5%9B%9B%E5%91%A8%E7%BB%83%E4%B9%A0%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="习题一"><a href="#习题一" class="headerlink" title="习题一"></a>习题一</h2><p>设有一个 SPJ 数据库，包括 S、P、J、SPJ4 个关系模式：</p><blockquote><p>S ( SNO, SNAME, STATUS, CITY );<br>P ( PNO, PNAME, COLOR, WEIGHT );<br>J ( JNO, JNAME, CITY );<br>SPJ ( SNO, PNO, JNO, QTY );</p></blockquote><ul><li>供应商表 S 由供应商代码（SNO）、供应商姓名（SNAME）、供应商状态（STATUS）、供应商所在城市（CITY）组成。</li><li>零件表 P 由零件代码（PNO）、零件名（PNAME）、颜色（COLOR）、重量（WEIGHT）组成。</li><li>工程项目表 J 由工程项目代码（JNO）、工程项目名（JNAME）、工程项目所在城市（CITY）组成。</li><li>供应情况表 SPJ 由供应商代码（SNO）、零件代码（PNO）、工程项目代码（JNO）、供应数量（QTY）组成，表示某供应商供应某种零件给某工程项目的数量为 QTY。</li></ul><p>今有若干数据如下：<br><img src="https://s1.ax1x.com/2022/11/30/zw7hTJ.png" alt=""></p><p>建表：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*建立S表*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> S(</span><br><span class="line">SNO <span class="type">CHAR</span>(<span class="number">9</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">SNAME <span class="type">CHAR</span>(<span class="number">24</span>) <span class="keyword">UNIQUE</span>,</span><br><span class="line">STATUS <span class="type">INT</span>(<span class="number">4</span>),</span><br><span class="line">CITY <span class="type">CHAR</span>(<span class="number">16</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*P表*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> P(</span><br><span class="line">PNO <span class="type">CHAR</span>(<span class="number">9</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">PNAME <span class="type">CHAR</span>(<span class="number">24</span>),</span><br><span class="line">COLOR <span class="type">CHAR</span>(<span class="number">8</span>),</span><br><span class="line">WEIGHT <span class="type">INT</span>(<span class="number">4</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*J表*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> J(</span><br><span class="line">JNO <span class="type">CHAR</span>(<span class="number">9</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">JNAME <span class="type">CHAR</span>(<span class="number">24</span>),</span><br><span class="line">CITY <span class="type">CHAR</span>(<span class="number">16</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*spj表*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> SPJ(</span><br><span class="line">SNO <span class="type">CHAR</span>(<span class="number">9</span>),</span><br><span class="line">PNO <span class="type">CHAR</span>(<span class="number">9</span>),</span><br><span class="line">JNO <span class="type">CHAR</span>(<span class="number">9</span>),</span><br><span class="line">QTY <span class="type">INT</span>(<span class="number">6</span>),</span><br><span class="line"><span class="keyword">PRIMARY</span> KEY(SNO,PNO,JNO),</span><br><span class="line"><span class="keyword">FOREIGN</span> KEY(SNO) <span class="keyword">REFERENCES</span> S(SNO),</span><br><span class="line"><span class="keyword">FOREIGN</span> KEY(PNO) <span class="keyword">REFERENCES</span> P(PNO),</span><br><span class="line"><span class="keyword">FOREIGN</span> KEY(JNO) <span class="keyword">REFERENCES</span> J(JNO)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*S表添加数据*/</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> S <span class="keyword">VALUES</span>(<span class="string">&#x27;S1&#x27;</span>,<span class="string">&#x27;精益&#x27;</span>,<span class="number">20</span>,<span class="string">&#x27;天津&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> S <span class="keyword">VALUES</span>(<span class="string">&#x27;S2&#x27;</span>,<span class="string">&#x27;盛锡&#x27;</span>,<span class="number">10</span>,<span class="string">&#x27;北京&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> S <span class="keyword">VALUES</span>(<span class="string">&#x27;S3&#x27;</span>,<span class="string">&#x27;东方红&#x27;</span>,<span class="number">30</span>,<span class="string">&#x27;北京&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> S <span class="keyword">VALUES</span>(<span class="string">&#x27;S4&#x27;</span>,<span class="string">&#x27;丰泰盛&#x27;</span>,<span class="number">20</span>,<span class="string">&#x27;天津&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> S <span class="keyword">VALUES</span>(<span class="string">&#x27;S5&#x27;</span>,<span class="string">&#x27;为民&#x27;</span>,<span class="number">30</span>,<span class="string">&#x27;上海&#x27;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*P表添加数据*/</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> P <span class="keyword">VALUES</span>(<span class="string">&#x27;P1&#x27;</span>,<span class="string">&#x27;螺母&#x27;</span>,<span class="string">&#x27;红&#x27;</span>,<span class="number">12</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> P <span class="keyword">VALUES</span>(<span class="string">&#x27;P2&#x27;</span>,<span class="string">&#x27;螺栓&#x27;</span>,<span class="string">&#x27;绿&#x27;</span>,<span class="number">17</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> P <span class="keyword">VALUES</span>(<span class="string">&#x27;P3&#x27;</span>,<span class="string">&#x27;螺丝刀&#x27;</span>,<span class="string">&#x27;蓝&#x27;</span>,<span class="number">14</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> P <span class="keyword">VALUES</span>(<span class="string">&#x27;P4&#x27;</span>,<span class="string">&#x27;螺丝刀&#x27;</span>,<span class="string">&#x27;红&#x27;</span>,<span class="number">14</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> P <span class="keyword">VALUES</span>(<span class="string">&#x27;P5&#x27;</span>,<span class="string">&#x27;凸轮&#x27;</span>,<span class="string">&#x27;蓝&#x27;</span>,<span class="number">40</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> P <span class="keyword">VALUES</span>(<span class="string">&#x27;P6&#x27;</span>,<span class="string">&#x27;齿轮&#x27;</span>,<span class="string">&#x27;红&#x27;</span>,<span class="number">30</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*J表添加数据*/</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> J <span class="keyword">VALUES</span>(<span class="string">&#x27;J1&#x27;</span>,<span class="string">&#x27;三建&#x27;</span>,<span class="string">&#x27;北京&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> J <span class="keyword">VALUES</span>(<span class="string">&#x27;J2&#x27;</span>,<span class="string">&#x27;一汽&#x27;</span>,<span class="string">&#x27;长春&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> J <span class="keyword">VALUES</span>(<span class="string">&#x27;J3&#x27;</span>,<span class="string">&#x27;弹簧厂&#x27;</span>,<span class="string">&#x27;天津&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> J <span class="keyword">VALUES</span>(<span class="string">&#x27;J4&#x27;</span>,<span class="string">&#x27;造船厂&#x27;</span>,<span class="string">&#x27;天津&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> J <span class="keyword">VALUES</span>(<span class="string">&#x27;J5&#x27;</span>,<span class="string">&#x27;机车厂&#x27;</span>,<span class="string">&#x27;唐山&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> J <span class="keyword">VALUES</span>(<span class="string">&#x27;J6&#x27;</span>,<span class="string">&#x27;无线电厂&#x27;</span>,<span class="string">&#x27;常州&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> J <span class="keyword">VALUES</span>(<span class="string">&#x27;J7&#x27;</span>,<span class="string">&#x27;半导体厂&#x27;</span>,<span class="string">&#x27;南京&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*SPJ表添加数据*/</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SPJ <span class="keyword">VALUES</span>(<span class="string">&#x27;S1&#x27;</span>, <span class="string">&#x27;P1&#x27;</span>, <span class="string">&#x27;J1&#x27;</span>,<span class="number">200</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SPJ <span class="keyword">VALUES</span>(<span class="string">&#x27;S1&#x27;</span>, <span class="string">&#x27;P1&#x27;</span>, <span class="string">&#x27;J3&#x27;</span>,<span class="number">100</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SPJ <span class="keyword">VALUES</span>(<span class="string">&#x27;S1&#x27;</span>, <span class="string">&#x27;P1&#x27;</span>, <span class="string">&#x27;J4&#x27;</span>,<span class="number">700</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SPJ <span class="keyword">VALUES</span>(<span class="string">&#x27;S1&#x27;</span>, <span class="string">&#x27;P2&#x27;</span>, <span class="string">&#x27;J4&#x27;</span>,<span class="number">700</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SPJ <span class="keyword">VALUES</span>(<span class="string">&#x27;S1&#x27;</span>, <span class="string">&#x27;P2&#x27;</span>, <span class="string">&#x27;J2&#x27;</span>,<span class="number">100</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SPJ <span class="keyword">VALUES</span>(<span class="string">&#x27;S2&#x27;</span>, <span class="string">&#x27;P3&#x27;</span>, <span class="string">&#x27;J1&#x27;</span>,<span class="number">400</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SPJ <span class="keyword">VALUES</span>(<span class="string">&#x27;S2&#x27;</span>, <span class="string">&#x27;P3&#x27;</span>, <span class="string">&#x27;J2&#x27;</span>,<span class="number">200</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SPJ <span class="keyword">VALUES</span>(<span class="string">&#x27;S2&#x27;</span>, <span class="string">&#x27;P3&#x27;</span>, <span class="string">&#x27;J4&#x27;</span>,<span class="number">500</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SPJ <span class="keyword">VALUES</span>(<span class="string">&#x27;S2&#x27;</span>, <span class="string">&#x27;P3&#x27;</span>, <span class="string">&#x27;J5&#x27;</span>,<span class="number">400</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SPJ <span class="keyword">VALUES</span>(<span class="string">&#x27;S2&#x27;</span>, <span class="string">&#x27;P5&#x27;</span>, <span class="string">&#x27;J1&#x27;</span>,<span class="number">400</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SPJ <span class="keyword">VALUES</span>(<span class="string">&#x27;S2&#x27;</span>, <span class="string">&#x27;P5&#x27;</span>, <span class="string">&#x27;J2&#x27;</span>,<span class="number">100</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SPJ <span class="keyword">VALUES</span>(<span class="string">&#x27;S3&#x27;</span>, <span class="string">&#x27;P1&#x27;</span>, <span class="string">&#x27;J1&#x27;</span>,<span class="number">200</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SPJ <span class="keyword">VALUES</span>(<span class="string">&#x27;S3&#x27;</span>, <span class="string">&#x27;P3&#x27;</span>, <span class="string">&#x27;J1&#x27;</span>,<span class="number">200</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SPJ <span class="keyword">VALUES</span>(<span class="string">&#x27;S4&#x27;</span>, <span class="string">&#x27;P5&#x27;</span>, <span class="string">&#x27;J1&#x27;</span>,<span class="number">100</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SPJ <span class="keyword">VALUES</span>(<span class="string">&#x27;S4&#x27;</span>, <span class="string">&#x27;P6&#x27;</span>, <span class="string">&#x27;J3&#x27;</span>,<span class="number">300</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SPJ <span class="keyword">VALUES</span>(<span class="string">&#x27;S4&#x27;</span>, <span class="string">&#x27;P6&#x27;</span>, <span class="string">&#x27;J4&#x27;</span>,<span class="number">200</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SPJ <span class="keyword">VALUES</span>(<span class="string">&#x27;S5&#x27;</span>, <span class="string">&#x27;P2&#x27;</span>, <span class="string">&#x27;J4&#x27;</span>,<span class="number">100</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SPJ <span class="keyword">VALUES</span>(<span class="string">&#x27;S5&#x27;</span>, <span class="string">&#x27;P3&#x27;</span>, <span class="string">&#x27;J1&#x27;</span>,<span class="number">200</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SPJ <span class="keyword">VALUES</span>(<span class="string">&#x27;S5&#x27;</span>, <span class="string">&#x27;P6&#x27;</span>, <span class="string">&#x27;J2&#x27;</span>,<span class="number">200</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SPJ <span class="keyword">VALUES</span>(<span class="string">&#x27;S5&#x27;</span>, <span class="string">&#x27;P6&#x27;</span>, <span class="string">&#x27;J4&#x27;</span>,<span class="number">500</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SPJ <span class="keyword">VALUES</span>(<span class="string">&#x27;S1&#x27;</span>, <span class="string">&#x27;P2&#x27;</span>, <span class="string">&#x27;J4&#x27;</span>,<span class="number">700</span>);</span><br></pre></td></tr></table></figure><p>试用SQL语句写出如下查询：</p><ol><li>求供应工程J1零件的供应商号码SNO。</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> SNO </span><br><span class="line"><span class="keyword">FROM</span> SPJ</span><br><span class="line"><span class="keyword">WHERE</span> JNO <span class="operator">=</span> <span class="string">&#x27;J1&#x27;</span>;</span><br></pre></td></tr></table></figure><ol><li>求供应工程J1零件P1的供应商号码SNO。</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> SNO </span><br><span class="line"><span class="keyword">FROM</span> SPJ</span><br><span class="line"><span class="keyword">WHERE</span> JNO <span class="operator">=</span> <span class="string">&#x27;J1&#x27;</span> <span class="keyword">AND</span> PNO <span class="operator">=</span> <span class="string">&#x27;P1&#x27;</span>;</span><br></pre></td></tr></table></figure><ol><li>求供应工程J1零件为红色的供应商号码SNO。</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*写法1：*/</span></span><br><span class="line"><span class="keyword">SELECT</span> SNO</span><br><span class="line"><span class="keyword">FROM</span>(</span><br><span class="line"><span class="keyword">SELECT</span> PNO </span><br><span class="line"><span class="keyword">FROM</span> P</span><br><span class="line"><span class="keyword">WHERE</span> COLOR <span class="operator">=</span> <span class="string">&#x27;红&#x27;</span></span><br><span class="line">) t1,(</span><br><span class="line"><span class="keyword">SELECT</span> SNO, PNO</span><br><span class="line"><span class="keyword">FROM</span> SPJ</span><br><span class="line"><span class="keyword">WHERE</span> JNO <span class="operator">=</span> <span class="string">&#x27;J1&#x27;</span></span><br><span class="line">) t2</span><br><span class="line"><span class="keyword">WHERE</span> t1.PNO <span class="operator">=</span> t2.PNO;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*写法2：*/</span></span><br><span class="line"><span class="keyword">SELECT</span> SNO</span><br><span class="line"><span class="keyword">FROM</span> SPJ,P</span><br><span class="line"><span class="keyword">WHERE</span> JNO<span class="operator">=</span><span class="string">&#x27;J1&#x27;</span> <span class="keyword">AND</span> P.COLOR<span class="operator">=</span><span class="string">&#x27;红&#x27;</span> <span class="keyword">AND</span> SPJ.PNO<span class="operator">=</span>P.PNO;</span><br></pre></td></tr></table></figure><blockquote><p>思考：1.在网上看到很多这样的文章，在进行多表查询的时候，<strong>用小表或者交叉表做基础表，放在后面</strong>，大表放在from后面的位置，因为<strong>表的访问顺序是从右往左的</strong>，这样查询效率更高。（mysql sql优化器会对sql的表的连接顺序做一定的优化） 2.<strong>WHERE</strong>后面<strong>将筛选掉数据多的条件放前面</strong>（执行顺序左到右）</p></blockquote><ol><li>求没有使用天津供应商生产的红色零件的工程号。</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*写法1：*/</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> JNO</span><br><span class="line"><span class="keyword">FROM</span> SPJ</span><br><span class="line"><span class="keyword">WHERE</span> JNO <span class="keyword">NOT</span> <span class="keyword">IN</span> (</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> JNO</span><br><span class="line"><span class="keyword">FROM</span>(</span><br><span class="line"><span class="keyword">SELECT</span> SNO</span><br><span class="line"><span class="keyword">FROM</span> S</span><br><span class="line"><span class="keyword">WHERE</span> CITY <span class="operator">=</span> <span class="string">&#x27;天津&#x27;</span></span><br><span class="line">) t1,(</span><br><span class="line"><span class="keyword">SELECT</span> SNO, PNO, JNO</span><br><span class="line"><span class="keyword">FROM</span> SPJ</span><br><span class="line">) t2,(</span><br><span class="line"><span class="keyword">SELECT</span> PNO</span><br><span class="line"><span class="keyword">FROM</span> P</span><br><span class="line"><span class="keyword">WHERE</span> COLOR <span class="operator">=</span> <span class="string">&#x27;红&#x27;</span></span><br><span class="line">) t3</span><br><span class="line"><span class="keyword">WHERE</span> t1.SNO <span class="operator">=</span> t2.SNO <span class="keyword">AND</span> t2.PNO <span class="operator">=</span> t3.PNO</span><br><span class="line">);</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">写法<span class="number">2</span>：</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> JNO</span><br><span class="line"><span class="keyword">FROM</span> SPJ</span><br><span class="line"><span class="keyword">WHERE</span> JNO <span class="keyword">NOT</span> <span class="keyword">IN</span>(</span><br><span class="line">    <span class="keyword">SELECT</span> JNO</span><br><span class="line">    <span class="keyword">FROM</span> SPJ, P, S</span><br><span class="line">    <span class="keyword">WHERE</span> S.CITY<span class="operator">=</span><span class="string">&#x27;天津&#x27;</span></span><br><span class="line">    <span class="keyword">AND</span> SPJ.SNO<span class="operator">=</span>S.SNO</span><br><span class="line">    <span class="keyword">AND</span> SPJ.PNO<span class="operator">=</span>P.PNO </span><br><span class="line">    <span class="keyword">AND</span> P.COLOR<span class="operator">=</span><span class="string">&#x27;红&#x27;</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><ol><li><strong>求至少用了供应商S2所供应的全部零件的工程号JNO。</strong> </li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> jno</span><br><span class="line"><span class="keyword">FROM</span> spj spjz</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span>(</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> spj spjx</span><br><span class="line"><span class="keyword">WHERE</span> spjx.sno <span class="operator">=</span> <span class="string">&#x27;S2&#x27;</span> </span><br><span class="line"><span class="keyword">AND</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span>(</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> spj spjy</span><br><span class="line"><span class="keyword">WHERE</span> spjy.pno <span class="operator">=</span> spjx.pno <span class="keyword">AND</span> spjy.jno <span class="operator">=</span> spjz.jno</span><br><span class="line">)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><ol><li>找出所有供应商的姓名和所在城市。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> SNAME, CITY </span><br><span class="line"><span class="keyword">FROM</span> S;</span><br></pre></td></tr></table></figure></li><li>找出所有零件的名称、颜色、重量。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> PNAME, COLOR, WEIGHT </span><br><span class="line"><span class="keyword">FROM</span> P;</span><br></pre></td></tr></table></figure></li><li>找出所有工程项目名及所在城市。</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> JCITY</span><br><span class="line"><span class="keyword">FROM</span> J;</span><br></pre></td></tr></table></figure><ol><li>找出使用供应商S3所供应零件的工程号码。</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> JNO</span><br><span class="line"><span class="keyword">FROM</span> SPJ</span><br><span class="line"><span class="keyword">WHERE</span> SNO <span class="operator">=</span> <span class="string">&#x27;S3&#x27;</span>;</span><br></pre></td></tr></table></figure><ol><li>找出工程项目J2使用的各种零件的名称及其数量。</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> PNAME, QTY</span><br><span class="line"><span class="keyword">FROM</span> SPJ, P</span><br><span class="line"><span class="keyword">WHERE</span> SPJ.PNO <span class="operator">=</span> P.PNO <span class="keyword">AND</span> JNO <span class="operator">=</span> <span class="string">&#x27;J2&#x27;</span>;</span><br></pre></td></tr></table></figure><ol><li>找出上海厂商供应的所有零件的号码。</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> PNO </span><br><span class="line"><span class="keyword">FROM</span> SPJ </span><br><span class="line"><span class="keyword">WHERE</span> SNO <span class="keyword">IN</span> (</span><br><span class="line"><span class="keyword">SELECT</span> SNO</span><br><span class="line"><span class="keyword">FROM</span> S</span><br><span class="line"><span class="keyword">WHERE</span> CITY <span class="operator">=</span> <span class="string">&#x27;上海&#x27;</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><ol><li>找出使用北京产的零件的工程名称。</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> JNO </span><br><span class="line"><span class="keyword">FROM</span> SPJ </span><br><span class="line"><span class="keyword">WHERE</span> SNO <span class="keyword">IN</span> (</span><br><span class="line"><span class="keyword">SELECT</span> SNO</span><br><span class="line"><span class="keyword">FROM</span> S</span><br><span class="line"><span class="keyword">WHERE</span> CITY <span class="operator">=</span> <span class="string">&#x27;北京&#x27;</span></span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol><li>找出没有使用天津产的零件的工程号码</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> JNO </span><br><span class="line"><span class="keyword">FROM</span> SPJ </span><br><span class="line"><span class="keyword">WHERE</span> JNO <span class="keyword">NOT</span> <span class="keyword">IN</span>(</span><br><span class="line"><span class="keyword">SELECT</span> JNO</span><br><span class="line"><span class="keyword">FROM</span> SPJ, S</span><br><span class="line"><span class="keyword">WHERE</span> CITY <span class="operator">=</span> <span class="string">&#x27;天津&#x27;</span> <span class="keyword">AND</span> SPJ.SNO <span class="operator">=</span> S.SNO</span><br><span class="line">);</span><br></pre></td></tr></table></figure><ol><li>把全部红色零件的颜色改成绿色</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> P </span><br><span class="line"><span class="keyword">SET</span> COLOR <span class="operator">=</span> <span class="string">&#x27;绿&#x27;</span> </span><br><span class="line"><span class="keyword">WHERE</span> COLOR<span class="operator">=</span><span class="string">&#x27;红&#x27;</span>;</span><br></pre></td></tr></table></figure><ol><li>由S5供给J4的零件P6改为用S3供应。请作必要的修改</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> SPJ</span><br><span class="line"><span class="keyword">SET</span> SNO <span class="operator">=</span> <span class="string">&#x27;S3&#x27;</span></span><br><span class="line"><span class="keyword">WHERE</span> SNO<span class="operator">=</span><span class="string">&#x27;S5&#x27;</span> <span class="keyword">AND</span> PNO<span class="operator">=</span><span class="string">&#x27;P6&#x27;</span> <span class="keyword">AND</span> JNO <span class="operator">=</span> <span class="string">&#x27;J4&#x27;</span>;</span><br></pre></td></tr></table></figure><ol><li>从供应商关系中删除S2的记录，并从供应情况关系中删除相应记录</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span></span><br><span class="line"><span class="keyword">FROM</span> S</span><br><span class="line"><span class="keyword">WHERE</span> SNO <span class="operator">=</span> <span class="string">&#x27;S2&#x27;</span>;</span><br><span class="line"><span class="keyword">DELETE</span></span><br><span class="line"><span class="keyword">FROM</span> SPJ</span><br><span class="line"><span class="keyword">WHERE</span> SNO <span class="operator">=</span> <span class="string">&#x27;S2&#x27;</span>;</span><br></pre></td></tr></table></figure><ol><li>请将(S2,J6,P4,100)插入供应情况关系</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SPJ <span class="keyword">VALUES</span>(<span class="string">&#x27;S2&#x27;</span>, <span class="string">&#x27;P4&#x27;</span>, <span class="string">&#x27;J6&#x27;</span>, <span class="number">100</span>);</span><br></pre></td></tr></table></figure><ol><li>请为三建工程项目建立一个供应情况的视图，包括供应商代码（SNO）、零件代码（PNO）、供应数量（QTY）。</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> v1 <span class="keyword">AS</span>(</span><br><span class="line"><span class="keyword">SELECT</span> SNO, PNO, QTY</span><br><span class="line"><span class="keyword">FROM</span> SPJ, J</span><br><span class="line"><span class="keyword">WHERE</span> SPJ.JNO <span class="operator">=</span> J.JNO <span class="keyword">AND</span> JNAME <span class="operator">=</span> <span class="string">&#x27;三建&#x27;</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><ol><li>针对18题的视图，找出三建工程项目使用的各种零件代码及其数量。</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> PNO, QTY</span><br><span class="line"><span class="keyword">FROM</span> v1;</span><br></pre></td></tr></table></figure><ol><li>针对18题的视图，找出供应商S1的供应情况。</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> v1</span><br><span class="line"><span class="keyword">WHERE</span> SNO<span class="operator">=</span><span class="string">&#x27;S1&#x27;</span>;</span><br></pre></td></tr></table></figure><h2 id="习题二："><a href="#习题二：" class="headerlink" title="习题二："></a>习题二：</h2><p>假设有下面两个关系模式：</p><blockquote><p>职工(职工号,姓名,年龄,职务,工资,部门号)，其中职工号为主码；<br>部门(部门号,名称,经理名,地址,电话)，其中部门号为主码。</p></blockquote><p>用SQL语言定义这两个关系模式，要求在模式中完成以下完整性约束条件的定义：<br>约束1：定义每个模式的主码；<br>约束2：<strong>定义参照完整性；</strong><br>约束3：<strong>定义职工年龄不得超过50岁。</strong></p><ol><li>定义关系模式：职工(职工号,姓名,年龄,职务,工资,部门号)，其中职工号为主码；</li><li>定义关系模式：部门(部门号,名称,经理名,电话)，其中部门号为主码；</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Create</span> <span class="keyword">Table</span> 部门(</span><br><span class="line">    部门号 <span class="type">Char</span>(<span class="number">10</span>) <span class="keyword">Primary</span> Key,</span><br><span class="line">    名称 <span class="type">Char</span>(<span class="number">10</span>),</span><br><span class="line">    经理名 <span class="type">Char</span>(<span class="number">10</span>),</span><br><span class="line">    电话 <span class="type">Char</span>(<span class="number">11</span>),</span><br><span class="line">);</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Create</span> <span class="keyword">Table</span> 职工(</span><br><span class="line">    职工号 <span class="type">Char</span>(<span class="number">10</span>) <span class="keyword">Primary</span> Key,</span><br><span class="line">    姓名 <span class="type">Char</span>(<span class="number">10</span>),</span><br><span class="line">    年龄 <span class="type">Char</span>(<span class="number">2</span>) <span class="keyword">Check</span>(年龄 <span class="operator">&lt;=</span> <span class="number">60</span>),</span><br><span class="line">    职务 <span class="type">Char</span>(<span class="number">10</span>),</span><br><span class="line">    工资 <span class="type">Char</span>(<span class="number">6</span>),</span><br><span class="line">    部门号 <span class="type">Char</span>(<span class="number">10</span>),</span><br><span class="line">    <span class="keyword">Foreign</span> Key(部门号) <span class="keyword">References</span> 部门(部门号)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h2 id="习题三："><a href="#习题三：" class="headerlink" title="习题三："></a>习题三：</h2><p>假设有下面两个关系模式：</p><blockquote><p>职工(职工号,姓名,年龄,职务,工资,部门号)<br>部门(部门号,名称,经理名,地址,电话)</p></blockquote><p>使用SQL的GRANT和REVOKE语句（加上视图机制）完成以下授权定义或存取控制功能：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Dept (</span><br><span class="line">Dno <span class="type">CHAR</span> (<span class="number">10</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">Dname <span class="type">CHAR</span> (<span class="number">10</span>),</span><br><span class="line">Mname <span class="type">CHAR</span> (<span class="number">10</span>),</span><br><span class="line">Address <span class="type">CHAR</span> (<span class="number">20</span>),</span><br><span class="line">Tel <span class="type">CHAR</span> (<span class="number">11</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Staff (</span><br><span class="line">Sno <span class="type">CHAR</span> (<span class="number">10</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">Sname <span class="type">CHAR</span> (<span class="number">10</span>),</span><br><span class="line">Sage <span class="type">CHAR</span> (<span class="number">2</span>) <span class="keyword">CHECK</span> (Sage <span class="operator">&lt;=</span> <span class="number">60</span>),</span><br><span class="line">Post <span class="type">CHAR</span> (<span class="number">10</span>),</span><br><span class="line">Pay <span class="type">CHAR</span> (<span class="number">6</span>),</span><br><span class="line">Dno <span class="type">CHAR</span> (<span class="number">10</span>),</span><br><span class="line"><span class="keyword">FOREIGN</span> KEY (Dno) <span class="keyword">REFERENCES</span> Dept (Dno)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> 王明 IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;123456&#x27;</span>;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> 李勇 IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;123456&#x27;</span>;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> 刘星 IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;123456&#x27;</span>;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> 张新 IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;123456&#x27;</span>;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> 周平 IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;123456&#x27;</span>;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> 杨兰 IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;123456&#x27;</span>;</span><br></pre></td></tr></table></figure><ol><li>用户王明对两个表有SELECT权限。</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> <span class="keyword">SELECT</span></span><br><span class="line"><span class="keyword">ON</span> <span class="keyword">TABLE</span> dept</span><br><span class="line"><span class="keyword">TO</span> 王明;</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">SELECT</span> </span><br><span class="line"><span class="keyword">ON</span> <span class="keyword">TABLE</span> staff</span><br><span class="line"><span class="keyword">TO</span> 王明;</span><br></pre></td></tr></table></figure><blockquote><p><strong>注意</strong>不能写成：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> <span class="keyword">SELECT</span> </span><br><span class="line"><span class="keyword">ON</span> <span class="keyword">TABLE</span> dept,staff</span><br><span class="line"><span class="keyword">TO</span> 王明;</span><br></pre></td></tr></table></figure><br>↑ 语法报错</p></blockquote><ol><li>用户李勇对两个表有INSERT和DELETE权限。</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> <span class="keyword">INSERT</span>,<span class="keyword">DELETE</span></span><br><span class="line"><span class="keyword">ON</span> <span class="keyword">TABLE</span> dept</span><br><span class="line"><span class="keyword">TO</span> 李勇;</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">INSERT</span>,<span class="keyword">DELETE</span></span><br><span class="line"><span class="keyword">ON</span> <span class="keyword">TABLE</span> staff</span><br><span class="line"><span class="keyword">TO</span> 李勇;</span><br></pre></td></tr></table></figure><ol><li><strong>每个职工只对自己的记录有SELECT权限</strong></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> <span class="keyword">SELECT</span> </span><br><span class="line"><span class="keyword">ON</span> <span class="keyword">TABLE</span> staff </span><br><span class="line"><span class="keyword">WHEN</span> <span class="keyword">USER</span>()<span class="operator">=</span> Sname</span><br><span class="line"><span class="keyword">TO</span> <span class="keyword">ALL</span>;</span><br></pre></td></tr></table></figure><blockquote><p>ALL指代所有用户，事实上mysql不能这样写</p><ol><li>用户刘星对职工表有SELECT权限，对工资字段具有UPDATE权限。</li></ol></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> <span class="keyword">SELECT</span>,<span class="keyword">UPDATE</span>(Pay)</span><br><span class="line"><span class="keyword">ON</span> <span class="keyword">TABLE</span> staff</span><br><span class="line"><span class="keyword">TO</span> 刘星;</span><br></pre></td></tr></table></figure><ol><li>用户张新具有修改这两个表的结构的权限。</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALTER</span></span><br><span class="line"><span class="keyword">ON</span> <span class="keyword">TABLE</span> staff <span class="keyword">TO</span> 张新;</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALTER</span></span><br><span class="line"><span class="keyword">ON</span> <span class="keyword">TABLE</span> dept <span class="keyword">TO</span> 张新;</span><br></pre></td></tr></table></figure><ol><li>用户周平具有对两个表的所有权限(读、插、改、删数据)，并具有给其他用户授权的权限。</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> PRIVILEGES</span><br><span class="line"><span class="keyword">ON</span> <span class="keyword">TABLE</span> staff <span class="keyword">TO</span> 周平</span><br><span class="line"><span class="keyword">WITH</span> <span class="keyword">GRANT</span> OPTION;</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> PRIVILEGES</span><br><span class="line"><span class="keyword">ON</span> <span class="keyword">TABLE</span> dept <span class="keyword">TO</span> 周平</span><br><span class="line"><span class="keyword">WITH</span> <span class="keyword">GRANT</span> OPTION;</span><br></pre></td></tr></table></figure><h2 id="习题四："><a href="#习题四：" class="headerlink" title="习题四："></a>习题四：</h2><p>对下列两个关系模式：<br>学生(学号，姓名，年龄，性别，家庭住址，班级号)<br>班级(班级号，班级名，班主任，班长)<br>使用GRANT 语句完成下列授权功能：</p><ol><li>授予用户U1对两个表的所有权限，并可给其他用户授权。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> PRIVILEGES</span><br><span class="line"><span class="keyword">ON</span> Class</span><br><span class="line"><span class="keyword">TO</span> U1</span><br><span class="line"><span class="keyword">WITH</span> <span class="keyword">GRANT</span> OPTION；</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> PRIVILEGES</span><br><span class="line"><span class="keyword">ON</span> Student</span><br><span class="line"><span class="keyword">TO</span> U1</span><br><span class="line"><span class="keyword">WITH</span> <span class="keyword">GRANT</span> OPTION；</span><br></pre></td></tr></table></figure></li><li>授予用户U2对学生表具有查看权限,对家庭住址具有更新权限。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> <span class="keyword">SELECT</span>,<span class="keyword">UPDATE</span>(Saddress)</span><br><span class="line"><span class="keyword">ON</span> Student</span><br><span class="line"><span class="keyword">TO</span> U2；</span><br></pre></td></tr></table></figure></li><li>将对班级表查看权限授予所有用户。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> <span class="keyword">SELECT</span></span><br><span class="line"><span class="keyword">ON</span> Class</span><br><span class="line"><span class="keyword">TO</span> <span class="keyword">ALL</span>;</span><br></pre></td></tr></table></figure></li><li>将对学生表的查询、更新权限授予角色R1。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> <span class="keyword">SELECT</span>,<span class="keyword">UPDATE</span></span><br><span class="line"><span class="keyword">ON</span> Student</span><br><span class="line"><span class="keyword">TO</span> R1;</span><br></pre></td></tr></table></figure></li><li>将角色R1授予用户U1，并且U1可继续授权给其他角色。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> R1</span><br><span class="line"><span class="keyword">TO</span> U1</span><br><span class="line"><span class="keyword">WITH</span> <span class="keyword">GRANT</span> OPTION;</span><br></pre></td></tr></table></figure></li></ol><h2 id="习题五："><a href="#习题五：" class="headerlink" title="习题五："></a>习题五：</h2><p>设教学数据库education有三个关系：<strong>学生关系S（SNO，SNAME，SAGE，SSEX，SDEPT）</strong>； 其中，SDEPT学生为所在系 <strong>学习关系SC（SNO，CNO，GRADE）</strong>；其中GRADE为成绩 <strong>课程关系C（CNO，CNAME，CDEPT，TNAME）</strong>，其中TNAME为授课教师姓名 用SQL语句表达下列操作：</p><ol><li>查所有年龄在20岁以下的学生姓名及年龄。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> SNAME, AGE</span><br><span class="line"><span class="keyword">FROM</span> S</span><br><span class="line"><span class="keyword">WHERE</span> AGE <span class="operator">&lt;</span> <span class="number">20</span>;</span><br></pre></td></tr></table></figure></li><li>查考试成绩有不及格（&lt;60）的学生的学号。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> SNO</span><br><span class="line"><span class="keyword">FROM</span> SC</span><br><span class="line"><span class="keyword">WHERE</span> GRADE <span class="operator">&lt;</span> <span class="number">60</span>;</span><br></pre></td></tr></table></figure></li><li>查所年龄在20至23岁之间的学生姓名、系别及年龄。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> SNAME,SDEPT,AGE</span><br><span class="line"><span class="keyword">FROM</span> S</span><br><span class="line"><span class="keyword">WHERE</span> AGE <span class="keyword">BETWEEN</span> <span class="number">20</span> <span class="keyword">AND</span> <span class="number">23</span>;</span><br></pre></td></tr></table></figure></li><li>查所有姓“刘”的学生的姓名、学号和性别。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> SNAME,SNO,SEX</span><br><span class="line"><span class="keyword">FROM</span> S</span><br><span class="line"><span class="keyword">WHERE</span> SNAME <span class="keyword">LIKE</span> <span class="string">&#x27;刘%&#x27;</span></span><br></pre></td></tr></table></figure></li><li>查所有不姓“张”的学生的姓名。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> SNAME</span><br><span class="line"><span class="keyword">FROM</span> S</span><br><span class="line"><span class="keyword">WHERE</span> SNAME <span class="keyword">NOT</span> <span class="keyword">LIKE</span> <span class="string">&#x27;张%&#x27;</span></span><br></pre></td></tr></table></figure></li><li>查课程名为db_design的课程号。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> CNO</span><br><span class="line"><span class="keyword">FROM</span> C</span><br><span class="line"><span class="keyword">WHERE</span> CNAME <span class="operator">=</span> <span class="string">&#x27;DB_Design&#x27;</span></span><br></pre></td></tr></table></figure></li><li>查缺考（GRADE为NULL）的学生的学号和课程号。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> SNO,CNO</span><br><span class="line"><span class="keyword">FROM</span> SC</span><br><span class="line"><span class="keyword">WHERE</span> GRADE <span class="keyword">IS</span> <span class="keyword">NULL</span></span><br></pre></td></tr></table></figure></li><li>查年龄为空值的学生的学号和姓名。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> SNO,SNAME</span><br><span class="line"><span class="keyword">FROM</span> S</span><br><span class="line"><span class="keyword">WHERE</span> AGE <span class="keyword">IS</span> <span class="keyword">NULL</span></span><br></pre></td></tr></table></figure></li><li>查计算机系（CS）20岁以下的学生的学号和姓名。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> SNO,SNAME</span><br><span class="line"><span class="keyword">FROM</span> S</span><br><span class="line"><span class="keyword">WHERE</span> SDEPT <span class="operator">=</span> <span class="string">&#x27;CS&#x27;</span> <span class="keyword">AND</span> AGE <span class="operator">&lt;</span> <span class="number">20</span></span><br></pre></td></tr></table></figure></li><li>查询选修了c3课程的学生的学号和成绩，其结果按分数的降序排列。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> SNO,GRADE</span><br><span class="line"><span class="keyword">FROM</span> SC</span><br><span class="line"><span class="keyword">WHERE</span> CNO <span class="operator">=</span> <span class="string">&#x27;c3&#x27;</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> GRADE <span class="keyword">DESC</span></span><br></pre></td></tr></table></figure></li><li>查询学生总人数。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>)</span><br><span class="line"><span class="keyword">FROM</span> S</span><br></pre></td></tr></table></figure></li><li>计算选修了c1课程的学生平均成绩。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(GRADE)</span><br><span class="line"><span class="keyword">FROM</span> SC</span><br><span class="line"><span class="keyword">WHERE</span> CNO <span class="operator">=</span> <span class="string">&#x27;c1&#x27;</span></span><br></pre></td></tr></table></figure></li><li>查询学习c3课程的学生最高分数。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MAX</span>(GRADE)</span><br><span class="line"><span class="keyword">FROM</span> SC</span><br><span class="line"><span class="keyword">WHERE</span> CNO <span class="operator">=</span> <span class="string">&#x27;c3&#x27;</span></span><br></pre></td></tr></table></figure></li><li>查询各个课程号与相应的选课人数。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> CNO,<span class="built_in">COUNT</span>(SNO)</span><br><span class="line"><span class="keyword">FROM</span> SC</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> CNO</span><br></pre></td></tr></table></figure></li><li><p>求基本表S中男同学的每一年龄组（超过50人）有多少人？要求查询结果按人数升序排列，人数相同按年龄降序排列</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> AGE,<span class="built_in">COUNT</span>(SNO)</span><br><span class="line"><span class="keyword">FROM</span> S</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> AGE</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>)<span class="operator">&gt;</span><span class="number">50</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">ASC</span>, AGE <span class="keyword">DESC</span></span><br></pre></td></tr></table></figure><blockquote><p>不能用where having指定组条件 往往与 GROUP BY 配合使用，为聚合操作指定条件</p></blockquote></li><li><p>查询每个学生及其选修课程的情况。</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> S.SNO,SNAME,SC.CNO,C.CNAME,SC.GRADE</span><br><span class="line"><span class="keyword">FROM</span> S,SC,C</span><br><span class="line"><span class="keyword">WHERE</span> S.SNO <span class="operator">=</span> SC.SNO <span class="keyword">AND</span> SC.CNO <span class="operator">=</span> C.CNO</span><br></pre></td></tr></table></figure></li><li>查询选修了c2课程且成绩在90分以上的所有学生。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> S.SNO,S.SNAME</span><br><span class="line"><span class="keyword">FROM</span> S,SC</span><br><span class="line"><span class="keyword">WHERE</span> SC.CNO <span class="operator">=</span> <span class="string">&#x27;c2&#x27;</span> <span class="keyword">AND</span> SC.GRADE <span class="operator">&gt;</span> <span class="number">90</span> <span class="keyword">AND</span> S.SNO <span class="operator">=</span> SC.SNO </span><br></pre></td></tr></table></figure></li><li>查询每个学生选修的课程名及其成绩。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> S.SNO,S.SNAME,C.CNAME,SC.GRADE</span><br><span class="line"><span class="keyword">FROM</span> S,SC,C</span><br><span class="line"><span class="keyword">WHERE</span> SC.SNO <span class="operator">=</span> S.SNO <span class="keyword">AND</span> SC.CNO <span class="operator">=</span> C.CNO</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> S.SNO, C.CNAME</span><br></pre></td></tr></table></figure></li><li>查询与“张三”在同一个系学习的学生学号、姓名和系别。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> SNO,SNAME,SDEPT</span><br><span class="line"><span class="keyword">FROM</span> S</span><br><span class="line"><span class="keyword">WHERE</span> SDEPT <span class="keyword">IN</span> (</span><br><span class="line"><span class="keyword">SELECT</span> SDEPT</span><br><span class="line">    <span class="keyword">FROM</span> S</span><br><span class="line">    <span class="keyword">WHERE</span> SNAME <span class="operator">=</span> <span class="string">&#x27;张三&#x27;</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure></li><li>查询选修课程名为“数据库”（CNAME=’DB’）的学生学号和姓名。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> SNO,SNAME</span><br><span class="line"><span class="keyword">FROM</span> S,SC,C</span><br><span class="line"><span class="keyword">WHERE</span> CNAME <span class="operator">=</span> <span class="string">&#x27;DB&#x27;</span> <span class="keyword">AND</span> S.SNO <span class="operator">=</span> SC.SNO <span class="keyword">AND</span> C.CNO <span class="operator">=</span> SC.CNO</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据库 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据库系统概论复习（一）</title>
      <link href="/2022/11/30/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0/"/>
      <url>/2022/11/30/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<blockquote><p>先上一张思维导图</p></blockquote><p><img src="https://s1.ax1x.com/2022/11/29/zdbuTJ.png" alt=""></p><hr><blockquote><p>以下题目来自课堂复习</p></blockquote><h1 id="第一章-绪论"><a href="#第一章-绪论" class="headerlink" title="第一章 绪论"></a>第一章 绪论</h1><h2 id="1-简答题"><a href="#1-简答题" class="headerlink" title="1 简答题"></a>1 简答题</h2><h3 id="1-1-简述数据库系统的组成和特点"><a href="#1-1-简述数据库系统的组成和特点" class="headerlink" title="1.1 简述数据库系统的组成和特点"></a>1.1 简述数据库系统的组成和特点</h3><p><strong>组成：</strong><br>数据库系统（DBS）一般由数据库（DB）、数据库管理系统（DBMS）及其应用开发工具、应用程序和数据库管理员（DBA）构成，是储存、管理、处理和维护数据的系统。<br><strong>特点：</strong></p><ol><li><p>数据结构化</p><ul><li>整体数据的结构化，这是数据库的主要特征之一，也是数据库系统和文件系统的本质区别。<br><img src="https://s1.ax1x.com/2022/11/29/zdHXSP.jpg" alt=""></li></ul></li><li><p>数据的共享性高、冗余度低且易扩充</p></li><li><p>数据独立性高</p><ul><li>数据独立性<ul><li>物理独立性</li><li>逻辑独立性</li></ul></li></ul></li><li><p>数据由数据库管理系统统一管理和控制</p></li></ol><h3 id="1-2-简述数据库独立性的原理和作用"><a href="#1-2-简述数据库独立性的原理和作用" class="headerlink" title="1.2 简述数据库独立性的原理和作用"></a>1.2 简述数据库独立性的原理和作用</h3><p>数据库系统通常采用三级模式结构，是数据库系统内部的系统结构<br><img src="https://img-blog.csdnimg.cn/2020070809585186.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Njg4MDU1Ng==,size_16,color_FFFFFF,t_70#pic_center" alt=""></p><ol><li><p><strong>外模式</strong><br>又称子模式或用户模式。外模式是某个数据视图，独立于存储模式和存储设备；一个DB可以有多个外模式，外模式是模式的子集。<br>外模式的用途：保证数据库安全性的一个有力措施；每个用户只能看见和访问所对应的外模式中的数据。</p></li><li><p><strong>模式</strong><br>又称逻辑模式，模式只涉及到型的描述，不涉及具体的值，反映的是数据的结构及其联系；模式起到了承上启下的作用；一个数据库只有一个模式。</p></li><li><p><strong>内模式</strong><br>又称存储模式。数据的物理结构和存储方式的描述，即DB中数据的内部表示方式。<br>一个数据库只有一个内模式；独立于具体的存储设备</p></li></ol><blockquote><p>当数据库的存储结构改变了，数据库管理员可<strong>修改内模式/模式映像，</strong> 使模式保持不变。保证了数据的<strong>物理独立性</strong> 。</p><p>对于同一个模式可以有任意多个外模式，对于每一个外模式，数据库系统都有一个外模式映像。当模式改变时，由数据库管理员对<strong>各个外模式/模式的映像作相应的改变</strong>，可以使外模式保持不变。保证了数据与程序的<strong>数据独立性</strong>。</p></blockquote><h3 id="1-3-简述文件系统和数据库系统在处理数据中的区别和联系"><a href="#1-3-简述文件系统和数据库系统在处理数据中的区别和联系" class="headerlink" title="1.3 简述文件系统和数据库系统在处理数据中的区别和联系"></a>1.3 简述文件系统和数据库系统在处理数据中的区别和联系</h3><ol><li><strong>区别：</strong></li></ol><ul><li><p>文件系统由操作系统中的存取方式对数据进行管理，数据库中由DBMS对数据进行管理和控制；</p></li><li><p>文件系统中数据与应用程序有联系，而数据库系统中数据和应用程序分离；</p></li><li><p>文件系统是以文件为单位的共享，这就可能会造成数据间不相融与不一致性，而数据库系统的共享是以数据项为单位的共享，共享性更高。</p></li></ul><ol><li><strong>联系：</strong></li></ol><ul><li><p>均为数据组织的管理技术；</p></li><li><p>均由数据管理软件管理数据，程序与数据之间用存取方法进行转换；</p></li><li><p>数据库系统是在文件系统的基础上发展而来的。</p></li></ul><h3 id="1-4-简述数据库相关的三个数据模型的联系与区别"><a href="#1-4-简述数据库相关的三个数据模型的联系与区别" class="headerlink" title="1.4 简述数据库相关的三个数据模型的联系与区别"></a>1.4 简述数据库相关的三个数据模型的联系与区别</h3><ol><li><strong>联系：</strong></li></ol><ul><li>都是主要的数据模型。数据模型分两类，一类是概念模型，一类是逻辑模型和物理模型。</li><li>都是数据库系统的核心和基础。</li></ul><ol><li><strong>区别：</strong></li></ol><ul><li>概念模型是按照用户的观点来对数据和信息进行建模，主要用于数据库设计。</li><li>逻辑模型是按照计算机系统的观点对数据进行数据建模，主要用于数据库管理系统的实现。</li><li>物理模型是对数据最底层的抽象，它描述数据在系统内部的表达方式和存取方法，或在磁盘或磁盘带上的储存方式和存取方法，是面向计算机的。</li></ul><h3 id="1-5-与网状模型和层次模型相比，关系模型的优点是什么"><a href="#1-5-与网状模型和层次模型相比，关系模型的优点是什么" class="headerlink" title="1.5 与网状模型和层次模型相比，关系模型的优点是什么"></a>1.5 与网状模型和层次模型相比，关系模型的优点是什么</h3><ul><li>关系模型与格式化模型（网状模型、层次模型）不同，它是建立在严格的数学概念（集合）的基础上的。</li><li>数据结构简单、清晰，用户易懂易用。</li><li>具有更好的数据独立性、更好的安全保密性。</li></ul><h1 id="第二章-关系数据库"><a href="#第二章-关系数据库" class="headerlink" title="第二章 关系数据库"></a>第二章 关系数据库</h1><h2 id="2-1-关系模型的三个组成部分"><a href="#2-1-关系模型的三个组成部分" class="headerlink" title="2.1 关系模型的三个组成部分"></a>2.1 关系模型的三个组成部分</h2><ol><li><strong>关系数据结构</strong><br>主要描述数据的类型、内容、性质以及数据间的联系等。</li><li><strong>关系操作集合</strong><br>主要描述在相应的数据结构上的操作类型和操作方式。它是操作算符的集合，包括若干操作和推理准则，用以对目标类型的有效实例所组成的数据库进行操作。</li><li><strong>关系完整性约束</strong><br>数据约束主要描述数据结构内数据间的语法、词义联系、他们之间的制约和依存关系，以及数据动态变化的规则，以保证数据的正确、有效和相容。它是完整性规则的集合，用以限定符合数据模型的数据库状态，以及状态的变化。</li></ol><ul><li>静态约束：数据库中数据的语法、语义限制与数据之间的逻辑约束称为静态约束。</li><li>动态约束：数据库中的数据变化应遵守的规则称为数据动态约束</li></ul><h2 id="2-2-关系模式和关系的区别"><a href="#2-2-关系模式和关系的区别" class="headerlink" title="2.2 关系模式和关系的区别"></a>2.2 关系模式和关系的区别</h2><ol><li><p><strong>关系：</strong> 关系模型的数据结构，D1 × D2 × ··· × Dn 的子集叫做在域D1，D2，···，Dn 上的关系，表示为 R(D1，D2，···，Dn )，其中R就是关系名，n就是目或度。关系对应一张二维表，关系中的每个元素称为元组，由于元组数据会时常修改，所以关系呈现出动态的。</p><blockquote><ul><li>元组：关系中每个元素叫作一个n元组，简称元组</li><li>属性：表中的一列即为一个属性，给每个属性起一个名称即为属性名，表中任意的属性名不能相同</li><li>码：属性/属性组 组成【候选码：唯一标识符】【主码：从候选码中选定】【全码：关系模式中的所有属性组是这个关系模式的候选码】</li></ul></blockquote></li><li><p><strong>关系模式：</strong> 对关系的描述。关系模式是静态的。</p><blockquote><p>例如：教师（教师号，姓名，性别，年龄，职称，所在系）</p></blockquote></li></ol><h2 id="2-3-试述关系模型的完整性规则。在参照完整性中，什么情况下外码属性的值可以为空值？"><a href="#2-3-试述关系模型的完整性规则。在参照完整性中，什么情况下外码属性的值可以为空值？" class="headerlink" title="2.3 试述关系模型的完整性规则。在参照完整性中，什么情况下外码属性的值可以为空值？"></a>2.3 试述关系模型的完整性规则。在参照完整性中，什么情况下外码属性的值可以为空值？</h2><ol><li>关系模型的完整性规则是对关系的某种约束条件。关系模型中有三类完整性约束，分别为实体完整性规则、参照完整性规则和用户定义的完整性规则。</li></ol><ul><li>实体完整性规则：若一个或一组属性A是基本关系R中的主属性，则属性A不能为空值。</li><li>参照完整性规则：若一个或一组属性F是基本关系R的外码，Ks是基本关系S的主码，且F与Ks相对应，则R中任一元组在F上的值必须：F为空值或S中的某个元组的Ks值。 </li><li>用户定义的完整性规则：用户自定义的完整性就是针对某一具体数据的约束条件，它反映某一具体应用所涉及的数据必须满足的语义要求。 </li></ul><ol><li>在参照完整性规则中，当外码和另一关系的主码相对应时，外码可为空值。</li></ol><h2 id="2-4-教材第二章习题部分第6题"><a href="#2-4-教材第二章习题部分第6题" class="headerlink" title="2.4 教材第二章习题部分第6题"></a>2.4 教材第二章习题部分第6题</h2><p>设有一个 SPJ 数据库，包括 S、P、J、SPJ4 个关系模式：</p><blockquote><p>S ( SNO, SNAME, STATUS, CITY );<br>P ( PNO, PNAME, COLOR, WEIGHT );<br>J ( JNO, JNAME, CITY );<br>SPJ ( SNO, PNO, JNO, QTY );</p></blockquote><ul><li>供应商表 S 由供应商代码（SNO）、供应商姓名（SNAME）、供应商状态（STATUS）、供应商所在城市（CITY）组成。</li><li>零件表 P 由零件代码（PNO）、零件名（PNAME）、颜色（COLOR）、重量（WEIGHT）组成。</li><li>工程项目表 J 由工程项目代码（JNO）、工程项目名（JNAME）、工程项目所在城市（CITY）组成。</li><li>供应情况表 SPJ 由供应商代码（SNO）、零件代码（PNO）、工程项目代码（JNO）、供应数量（QTY）组成，表示某供应商供应某种零件给某工程项目的数量为 QTY。</li></ul><p>今有若干数据如下：<br><img src="https://s1.ax1x.com/2022/11/30/zw7hTJ.png" alt=""></p><p><img src="https://s1.ax1x.com/2022/11/30/zw7qOO.png" alt=""><br><img src="https://s1.ax1x.com/2022/11/30/zw7X0e.png" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据库 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>堆排序</title>
      <link href="/2022/11/28/%E5%A0%86%E6%8E%92%E5%BA%8F/"/>
      <url>/2022/11/28/%E5%A0%86%E6%8E%92%E5%BA%8F/</url>
      
        <content type="html"><![CDATA[<h1 id="堆排序"><a href="#堆排序" class="headerlink" title="堆排序"></a>堆排序</h1><hr><h2 id="1-知识准备"><a href="#1-知识准备" class="headerlink" title="1 知识准备"></a>1 知识准备</h2><p>堆的结构可以分为大根堆和小根堆，是一个完全二叉树，而堆排序是根据堆的这种数据结构设计的一种排序，下面先来看看什么是大根堆和小根堆。</p><h3 id="1-1-大根堆和小根堆"><a href="#1-1-大根堆和小根堆" class="headerlink" title="1.1 大根堆和小根堆"></a>1.1 大根堆和小根堆</h3><p><strong>[大根堆]：</strong> 每个结点的值都大于其左孩子和右孩子结点的值<br><strong>[小根堆]：</strong> 每个结点的值都小于其左孩子和右孩子结点的值<br><a href="https://imgse.com/i/zaTLZ9"><img src="https://s1.ax1x.com/2022/11/28/zaTLZ9.md.png" alt="zaTLZ9.md.png"></a><br><strong>[数组储存]：</strong> 可用数组储存此类完全二叉树 </p><p><strong>父节点索引：</strong> (i-1)/2<br><strong>左孩子索引：</strong> 2<em>i + 1<br><strong>右孩子索引：</strong> 2</em>i + 2</p><blockquote><p>大根堆 需要满足 arr(i)&gt;arr(2<em>i+1) &amp;&amp; arr(i)&gt;arr(2</em>i+2)<br>小根堆 需要满足 arr(i)&lt;arr(2<em>i+1) &amp;&amp; arr(i)&lt;arr(2</em>i+2)</p></blockquote><h2 id="2-堆排序步骤"><a href="#2-堆排序步骤" class="headerlink" title="2 堆排序步骤"></a>2 堆排序步骤</h2><p>（1）首先将待排序的数组构造成一个大根堆，此时，整个数组的最大值就是堆结构的顶端</p><p>（2）将顶端的数与末尾的数交换，此时，末尾的数为最大值，剩余待排序数组个数为n-1</p><p>（3）将剩余的n-1个数再构造成大根堆，再将顶端数与n-1位置的数交换……如此反复执行，便能得到有序数组</p><h3 id="2-2-构造初始的大根堆"><a href="#2-2-构造初始的大根堆" class="headerlink" title="2.2 构造初始的大根堆"></a>2.2 构造初始的大根堆</h3><p>（1）从<strong>最后一棵子树</strong>开始（即最后一个元素的父节点 index = size/2 - 1），从后往前调整<br>（2）每次调整，从上往下调整 <strong>(递归思想)</strong>，使所有父节点始终大于子节点<br>（3）构建成大根堆</p><h3 id="2-3-顶端与末尾的数交换后如何调整堆"><a href="#2-3-顶端与末尾的数交换后如何调整堆" class="headerlink" title="2.3 顶端与末尾的数交换后如何调整堆"></a>2.3 顶端与末尾的数交换后如何调整堆</h3><p>由于执行该步操作后顶端的子树并未发生变化（此时堆或者说数组的长度-1），且<strong>子树依旧是大根堆</strong>，所以之后的调整堆并不需要像第一次构造堆一样从后往前调整每一棵子树，<strong>我们只需要对交换后的顶端重新调整，即HeapAdjust(a, 0, size)。</strong></p><h3 id="2-4-代码实现"><a href="#2-4-代码实现" class="headerlink" title="2.4 代码实现"></a>2.4 代码实现</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">HeapAdjust</span><span class="params">(<span class="type">int</span> *a, <span class="type">int</span> i, <span class="type">int</span> size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> p = i;<span class="comment">//下标</span></span><br><span class="line">    <span class="type">int</span> left = <span class="number">2</span> * i + <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> right = <span class="number">2</span> * i + <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span> (left &lt; size &amp;&amp; a[left] &gt; a[p])</span><br><span class="line">        p = left;</span><br><span class="line">    <span class="keyword">if</span> (right &lt; size &amp;&amp; a[right] &gt; a[p])</span><br><span class="line">        p = right;</span><br><span class="line">    <span class="keyword">if</span> (p != i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">swap</span>(a[p], a[i]);</span><br><span class="line">        <span class="built_in">HeapAdjust</span>(a, p, size);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">HeapSort</span><span class="params">(<span class="type">int</span> *a, <span class="type">int</span> size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//建立初始大根堆</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = size/<span class="number">2</span> <span class="number">-1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">        <span class="built_in">HeapAdjust</span>(a, i, size);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = size - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">swap</span>(a[<span class="number">0</span>], a[i]);</span><br><span class="line">        <span class="built_in">HeapAdjust</span>(a, <span class="number">0</span>, i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> a[<span class="number">8</span>] = &#123;<span class="number">53</span>, <span class="number">17</span>, <span class="number">78</span>, <span class="number">9</span>, <span class="number">45</span>, <span class="number">65</span>, <span class="number">87</span>, <span class="number">23</span>&#125;;</span><br><span class="line">    <span class="built_in">HeapSort</span>(a, <span class="number">8</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; a[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><a href="&quot;https://www.bilibili.com/video/BV1fp4y1D7cj/?spm_id_from=333.337.search-card.all.click&amp;vd_source=4c4e06d9794ecf36566117b17c0bf46a&quot;">B站相关视频演示</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 算法练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 堆 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【传智】莲子的机械动力学</title>
      <link href="/2022/11/28/%5B%E4%BC%A0%E6%99%BA%5DB%E8%8E%B2%E5%AD%90%E7%9A%84%E6%9C%BA%E6%A2%B0%E5%8A%A8%E5%8A%9B%E5%AD%A6/"/>
      <url>/2022/11/28/%5B%E4%BC%A0%E6%99%BA%5DB%E8%8E%B2%E5%AD%90%E7%9A%84%E6%9C%BA%E6%A2%B0%E5%8A%A8%E5%8A%9B%E5%AD%A6/</url>
      
        <content type="html"><![CDATA[<blockquote><p>新定义竖式运算</p></blockquote><h1 id="莲子的机械动力学"><a href="#莲子的机械动力学" class="headerlink" title="莲子的机械动力学"></a>莲子的机械动力学</h1><h2 id="题目背景"><a href="#题目背景" class="headerlink" title="题目背景"></a>题目背景</h2><p><strong>【题目背景和题目描述的两个题面是完全等价的，您可以选择阅读其中一部分。】</strong></p><p>专攻超统一物理学的莲子，对机械结构的运动颇有了解。如下图所示，是一个三进制加法计算器的（超简化）示意图。</p><p><img src="https://cdn.luogu.com.cn/upload/image_hosting/l6gm0j36.png" alt=""></p><p>一个四位的三进制整数，从低到高位，标为 $x<em>1,x_2,x_3,x_4$。换言之，这个数可以写成 $\overline{x_4x_3x_2x_1}</em>{(3)}$。把它放在这四个齿轮里，对应箭头指向的数字就是现在这位的数值。</p><p>在这种机械式计算机里，我们通过齿轮的啮合来实现数位间的连接。通过不同齿轮半径的比例来确定进制。图中所有浅灰色的小齿轮的半径，比上使用皮带相接的较大齿轮的半径，都是 $1:3$。那么小齿轮每转动一圈，大齿轮就转动 $\dfrac{1}{3}$ 圈，也就是刚好一个数码的角度。</p><p>于是，我们通过控制齿轮的半径实现了 $3$ 进制的进位。</p><p>如果需要实现三进制加法，则只需要在对应数位拨动对应的数码长度即可。</p><p>如下是个例子，实现 $\overline{1021}<em>{(3)}+\overline{0021}</em>{(3)}=\overline{1112}_{(3)}$</p><p><img src="https://cdn.luogu.com.cn/upload/image_hosting/4kcgnp7j.png" alt=""></p><p>初始时齿轮的状态如上。</p><p><img src="https://cdn.luogu.com.cn/upload/image_hosting/dcd66l5v.png" alt=""></p><p>把第一个齿轮拨动一个单位长度，变为如上图所示。</p><p><img src="https://cdn.luogu.com.cn/upload/image_hosting/oiexg3yw.png" alt=""></p><p>把第二个齿轮拨动两个单位长度，变为如上图所示。读数，得到结果 $\overline{1112}_{(3)}$。</p><hr><p>现在莲子设计了如下图所示的机械结构。对于从左往右数的第 $i$ 枚齿轮，它上面的浅色小齿轮与第 $i+1$ 枚齿轮上的深色小齿轮的半径之比为 $1:(i+2)$。也就是说，第 $i$ 枚齿轮每转动 $1$ 圈，第 $i+1$ 枚齿轮转过的角度恰好为它上面的一个数码。</p><p><img src="https://cdn.luogu.com.cn/upload/image_hosting/zi1d0qnn.png" alt=""></p><p>莲子想要知道，在这样的特别的进制表示下，给定 $a,b$，那么计算出的 $a+b$ 的结果是多少。</p><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>题目背景的问题可以转化为如下描述：</p><p>给定两个长度分别为 $n,m$ 的整数 $a,b$，计算它们的和。</p><p>但是要注意的是，这里的 $a,b$ 采用了某种特殊的进制表示法。最终的结果也会采用该种表示法。具体而言，从低位往高位数起，第 $i$ 位采用的是 $i+1$ 进制。换言之，相较于十进制下每一位的「逢 $10$ 进 $1$」，该种进制下第 $i$ 位是「逢 $i+1$ 进 $1$」。</p><p>下图所示，左边是十进制的竖式加法；右边是这种特殊进制的竖式加法。图中的红色加号表示上一位发生了进位。</p><p><img src="https://cdn.luogu.com.cn/upload/image_hosting/px92d6yd.png" alt=""></p><h2 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式"></a>输入格式</h2><ul><li>第一行有两个整数 $n,m$，分别表示 $a$ 和 $b$ 的位数。</li><li>第二行有 $n$ 个整数，中间用空格隔开，<strong>从高到低位</strong>描述 $a$ 的每个数码。</li><li>第三行有 $m$ 个整数，中间用空格隔开，<strong>从高到低位</strong>描述 $b$ 的每个数码。</li></ul><h2 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式"></a>输出格式</h2><ul><li>输出有若干个整数，从高到低位输出 $a+b$ 在这种特殊表示法下的结果。</li></ul><h2 id="样例-1"><a href="#样例-1" class="headerlink" title="样例 #1"></a>样例 #1</h2><h3 id="样例输入-1"><a href="#样例输入-1" class="headerlink" title="样例输入 #1"></a>样例输入 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">5 4</span><br><span class="line">3 3 2 1 1</span><br><span class="line">3 2 2 1</span><br></pre></td></tr></table></figure><h3 id="样例输出-1"><a href="#样例输出-1" class="headerlink" title="样例输出 #1"></a>样例输出 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4 2 1 1 0</span><br></pre></td></tr></table></figure><h2 id="样例-2"><a href="#样例-2" class="headerlink" title="样例 #2"></a>样例 #2</h2><h3 id="样例输入-2"><a href="#样例输入-2" class="headerlink" title="样例输入 #2"></a>样例输入 #2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">10 1</span><br><span class="line">10 9 8 7 6 5 4 3 2 1</span><br><span class="line">0</span><br></pre></td></tr></table></figure><h3 id="样例输出-2"><a href="#样例输出-2" class="headerlink" title="样例输出 #2"></a>样例输出 #2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">10 9 8 7 6 5 4 3 2 1</span><br></pre></td></tr></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><p>对于全部数据，保证 $1\le n,m\le 2\times 10^5$，从低位往高位数起有 $a_i\in[0,i]$，$b_i\in[0,i]$。请使用 Java 或 Python 语言作答的选手注意输入输出时的效率。</p><h2 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h2><p>类似于高精度运算的模板<br><strong>坑点：</strong><br>主要是细节 进位后总长度为 max(n, m) + 1 例如：0 + 0 = 0<br>这个0也是有长度的 但要小心输出0 0 <em>if(进位 &gt; 0)</em>再pushback</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">400010</span>;</span><br><span class="line"><span class="type">int</span> x[N], y[N];</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; c;</span><br><span class="line"><span class="type">int</span> m;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a, b;</span><br><span class="line">    cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; a; i++)</span><br><span class="line">        cin &gt;&gt; x[i];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; b; i++)</span><br><span class="line">        cin &gt;&gt; y[i];</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> t = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = a - <span class="number">1</span>, j = b - <span class="number">1</span>; i &gt;= <span class="number">0</span> || j &gt;= <span class="number">0</span>; i--, j--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (a &lt; b)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> s = t;</span><br><span class="line">            <span class="keyword">if</span> (i &gt;= <span class="number">0</span>)</span><br><span class="line">                s += x[i];</span><br><span class="line">            <span class="keyword">if</span> (j &gt;= <span class="number">0</span>)</span><br><span class="line">                s += y[j];</span><br><span class="line">            <span class="type">int</span> r = a - i + <span class="number">1</span>;</span><br><span class="line">            c.<span class="built_in">push_back</span>(s % r);</span><br><span class="line">            t = s / r;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> s = t;</span><br><span class="line">            <span class="keyword">if</span> (i &gt;= <span class="number">0</span>)</span><br><span class="line">                s += x[i];</span><br><span class="line">            <span class="keyword">if</span> (j &gt;= <span class="number">0</span>)</span><br><span class="line">                s += y[j];</span><br><span class="line">            <span class="type">int</span> r = b - j + <span class="number">1</span>;</span><br><span class="line">            c.<span class="built_in">push_back</span>(s % r);</span><br><span class="line">            t = s / r;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (t)</span><br><span class="line">        c.<span class="built_in">push_back</span>(t);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = c.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">        cout &lt;&lt; c[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 模拟 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Markdown_Learning</title>
      <link href="/2022/11/28/Markdown-Learning/"/>
      <url>/2022/11/28/Markdown-Learning/</url>
      
        <content type="html"><![CDATA[<h1 id="Markdown基本语法学习"><a href="#Markdown基本语法学习" class="headerlink" title="Markdown基本语法学习"></a>Markdown基本语法学习</h1><blockquote><p>这篇文章是用来学习Markdown的<br>编辑器：Vscode</p></blockquote><p><img src="https://s1.ax1x.com/2022/11/28/zUowRS.png" alt="背景图片"></p><h2 id="1-标题"><a href="#1-标题" class="headerlink" title="1 标题"></a>1 标题</h2><p>一级标题内容<br>这是第二个段落<br><em>斜体的文字</em><br><strong>加粗的文字</strong></p><h3 id="1-1-标题"><a href="#1-1-标题" class="headerlink" title="1.1 标题"></a>1.1 标题</h3><p>二级标题内容</p><h4 id="1-1-1-标题"><a href="#1-1-1-标题" class="headerlink" title="1.1.1 标题"></a>1.1.1 标题</h4><p>三级标题内容</p><h2 id="2-列表"><a href="#2-列表" class="headerlink" title="2 列表"></a>2 列表</h2><h3 id="2-1-有序列表"><a href="#2-1-有序列表" class="headerlink" title="2.1 有序列表"></a>2.1 有序列表</h3><ol><li>第一项</li><li>第二项</li></ol><h3 id="2-2-无序列表"><a href="#2-2-无序列表" class="headerlink" title="2.2 无序列表"></a>2.2 无序列表</h3><ul><li>第一项</li><li>第二项</li></ul><h3 id="2-3-嵌套列表"><a href="#2-3-嵌套列表" class="headerlink" title="2.3 嵌套列表"></a>2.3 嵌套列表</h3><ol><li>第一<ul><li>point1：</li></ul></li><li>第二<ul><li>point1：</li></ul></li><li><p>第三</p><ul><li>point1：</li></ul><hr></li></ol><h2 id="3-区块"><a href="#3-区块" class="headerlink" title="3 区块"></a>3 区块</h2><h3 id="3-1-区块"><a href="#3-1-区块" class="headerlink" title="3.1 区块"></a>3.1 区块</h3><blockquote><p>一层引用</p></blockquote><h3 id="3-2-嵌套区块"><a href="#3-2-嵌套区块" class="headerlink" title="3.2 嵌套区块"></a>3.2 嵌套区块</h3><blockquote><p>一层引用</p><blockquote><p>第二层引用</p><blockquote><p>第三层引用</p></blockquote></blockquote></blockquote><h3 id="3-3-列表中使用区块"><a href="#3-3-列表中使用区块" class="headerlink" title="3.3 列表中使用区块"></a>3.3 列表中使用区块</h3><ul><li><blockquote><p>hi</p></blockquote></li></ul><h3 id="3-4-代码区块"><a href="#3-4-代码区块" class="headerlink" title="3.4 代码区块"></a>3.4 代码区块</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//注释</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Other </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>大一写了啥</title>
      <link href="/2022/11/28/%E5%A4%A7%E4%B8%80%E5%86%99%E4%BA%86%E5%95%A5/"/>
      <url>/2022/11/28/%E5%A4%A7%E4%B8%80%E5%86%99%E4%BA%86%E5%95%A5/</url>
      
        <content type="html"><![CDATA[<blockquote><p>这篇文章记录一下大一写的东西（）<br>话不多说直接上视频吧（懒得写文字了）</p></blockquote><iframe height=498 width=610 src="//player.bilibili.com/player.html?aid=685367081&bvid=BV1nU4y1Q7in&cid=757148283&page=1"></iframe><blockquote><p>搬运简介：<br>h5+css ：（1）仿写北京大学官网首页 （2）设计学习强国pc端网页<br>C语言 ：经典图书管理系统（找不到了）<br>c++ ：小型书店进销存管理系统（这不就是图书管理系统吗）<br>小学期 ：（1）基于huffman编码的压缩程序（2）表达式求值（栈）<br>（3）Floyd求多源最短路径</p></blockquote><hr><p><strong>挖个坑：有时间补一下小学期那几个算法的笔记吧</strong></p>]]></content>
      
      
      <categories>
          
          <category> Other </category>
          
      </categories>
      
      
        <tags>
            
            <tag> record </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2022/11/27/hello-world/"/>
      <url>/2022/11/27/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      <categories>
          
          <category> Other </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
</search>
